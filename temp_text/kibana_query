GET _cat/indices/

GET sv_issue_word/_search

GET ref_org_mapping/_search

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "rqr_no.keyword": {
        "value": "Y-R-20160205-000119"
      }
    }
  }
}

GET add_dm_index_cll_old/_search
{
  "size": 0,
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 210
      }
    }
  }
}
GET add_dm_index_cll_old/_search
{
  "query": {
    "bool": {
      "must": [
        
        {
          "range": {
            "aggr_yyyymm": {
              "gte": "201501",
              "lte": "201506"
            }
          }
        },
        {
          "exists": {
            "field": "cnts"
          }
        }
      ]
    }
  }
}


GET dm_index_cll_old/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "cnts"
          }
        }
      ]
    }
  },
  "size": 0,
  "aggs": {
    "agg_yyyy": {
      "terms": {
        "field": "aggr_yyyy.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_cll_old/_count

POST _reindex
{
  "source": {
    "index": "add_dm_index_cll_old",
    "query": {
      "bool": {
        "must": [
          {
            "exists": {
              "field": "tp_cd_ti"
            }
          }
        ]
      }
    }
  },
  "dest": {
    "index": "dm_index_cll_old"
  }
}

GET sv_channel_dic_report/_search
{
  "size": 9999,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "cht"
          }
        }
      ]
    }
  },
  "_source": "word"
}

GET dm_chat/_search

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "match": {
            "keyword.word": "주정차 주차 정차"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2020-01-15 00:00:00",
              "lte": "2020-01-16 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "ttl",
    "keyword"
  ]
}
GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "query_string": {
            "query": "(*빙상* AND *환경*)",
            "fields": [
              "ttl"
            ],
            "analyze_wildcard":true
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2020-01-01 00:00:00",
              "lte": "2020-01-17 00:00:00"
            }
          }
        }
      ]
    }
  },
  "size": 500,
  "_source": [
    "indexno",
    "ttl"
  ]
}
(*미세먼지*) | (*초미세먼지*) | (*매연*) | (*매케한*) | (*가스냄새*) | (*대기오염*) | (*제지공장*) | (*염색공단*) | (*악취*) | (*연기*) | (*굴뚝*) | (*냄새*) | (*쓰레기*+*매립장*) | 
GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "query_string": {
            "query": "(*미세먼지*) | (*환경* AND *개선*)",
            "fields": [
              "ttl"
            ]
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "query_string": {
                  "query": "(*내연기관*) | (*담배냄새*+*택시*)",
                  "fields": [
                    "keyword.word",
                    "ttl"
                  ]
                }
              }
            ]
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-12-31 00:00:00",
              "lte": "2020-01-17 00:00:00"
            }
          }
        }
      ]
    }
  },
  "size": 500,
  "_source": [
    "indexno",
    "ttl"
  ]
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2020-01-15 00:00:00",
              "lte": "2020-01-15 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "simple_query_string": {
            "query": "(주정차  주차 정차)",
            "fields": [
              "keyword.word"
            ]
          }
        }
      ]
    }
  },
  "from": 0,
  "size": 3000,
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "crawl_id",
    "display_dt",
    "ttl",
    "cnl_nm",
    "now_dept_cd_nm",
    "prc_dep_nm",
    "rqs_dt",
    "acpt_dt",
    "deal_info",
    "channel",
    "cnts",
    "indexno"
  ]
}


GET dm_index_cll_old/_search
{
  "size": 0,
  "aggs": {
    "dp_Dt": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "year"
      }
    }
  }
}
GET dm_index_cll_*/_count

GET add_dm_index_cll_old/_search

GET dm_index_*/_count


GET dm_index_smg/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2020-01-14 00:00:00"
      }
    }
  }
}

GET ngram_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "simple_query_string": {
            "query": "(대구실내빙상장) | (빙상장) | (빙질) | (대구빙상장) | (빙상) | (실내빙상장) | (아이들+위험) | (빙상선수들) | (실내빙상장에) | (대구+실내빙상장) | (시장님+면담요청) | (빙질의) | (대구+시장에게) | (대구실내빙상장공사)",
            "fields": [
              "ttl.ngram"
            ]
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-12-16 00:00:00",
              "lt": "2020-02-14 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 200,
  "sort": [
    {
      "regist_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "ttl"
  ]
}
GET dm_index_gug_old/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2017-01-01 00:00:00",
              "lte": "2017-12-31 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 0, 
  "aggs": {
    "zipagrg": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 10
      }
    }
  }
}
GET dm_index_gug_old

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2017-01-01 00:00:00",
              "lte": "2017-12-31 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "gug"
          }
        }
      ]
    }
  },
  "aggs": {
    "months": {
      "terms": {
        "field": "aggr_yyyymm.keyword",
        "size": 13,
        "missing": ""
      },
      "aggs": {
        "top_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 500
          }
        }
      }
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "query_string": {
            "query": "(*도로*) | (*시설물*)",
            "fields": [
              "ttl"
            ]
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-11-04 00:00:00",
              "lt": "2019-12-31 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "indexno.keyword": {
                    "value": "gug_201911220819586038"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_30712"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_5528"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20171022-000001"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_11416"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180718-000003"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180601-000004"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "cll_4051450"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_21917"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20180420-000353"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_7561"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180416-000081"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_21902"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180404-000013"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20160823-000015"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20161101-000013"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180718-000002"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_P-R-20191207-000010"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20181225-000005"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_21607"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_1912"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_27213"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_40366"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "gug_201909061138437460"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20180419-000137"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_21901"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20180420-000213"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20161029-000017"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20180425-000001"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_P-R-20191002-000016"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_L-R-20160205-000006"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_45667"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "smg_39664"
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "size": 20,
  "sort": [
    {
      "regist_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "ttl"
  ]
}
GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "simple_query_string": {
            "query": "(대구실내빙상장*) | (빙상장*) | (빙질*) | (대구빙상장*) | (빙상*) | (실내빙상장*) | (아이들*+위험*) | (빙상선수들*) | (실내빙상장에*) | (대구*+실내*+빙상장*) | (시장님*+면담요청*) | (빙질의*) | (대구*+시장에게*) | (대구실내빙상장공사*)",
            "fields": [
              "ttl"
            ]
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-12-16 00:00:00",
              "lt": "2020-02-14 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 40,
  "sort": [
    {
      "regist_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "ttl"
  ]
}



GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "simple_query_string": {
            "query": "(대구실내빙상장*) | (빙상장*) | (빙질*) | (대구빙상장*) | (빙상*) | (실내빙상장*) | (아이들*+위험*) | (빙상선수들*) | (실내빙상장에*) | (대구*+실내빙상장*) | (시장님+면담요청) | (빙질의*) | (대구*+시장*) | (대구실내빙상장공사*)",
           
            "fields": [
              "keyword.word",
              "ttl"
            ]
          
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-12-16 00:00:00",
              "lt": "2020-02-14 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 200,
  "sort": [
    {
      "regist_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "ttl"
  ]
}

GET dm_index_rqr/_mapping

POST _reindex
{
  "source": {
    "index": "dm_index_rqr"
  },
  "dest": {
    "index": "ngram_dm_index_rqr"
  }
}

GET _cat/indices/ngram_dm_index_rqr
GET _cat/indices/dm_index_rqr

PUT ngram_dm_index_rqr
{
  "mappings": {
    "doc": {
      "properties": {
        "@timestamp": {
          "type": "date"
        },
        "@version": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "acpt_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "acpt_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "acpt_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr_dtl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_asn_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "age_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_hh": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyy": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "app_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "as_is": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "bd_wr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "call_sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "category_ti": {
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "float"
            }
          }
        },
        "channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cng_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cnl_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnl_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            },
            "korean": {
              "type": "text",
              "analyzer": "kobrick",
              "search_analyzer": "kobrick_search"
            }
          }
        },
        "collection_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cont_ar": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_car_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cpl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crawl_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg": {
          "type": "integer"
        },
        "crg_org_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_org_cd_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_team": {
          "type": "integer"
        },
        "cvl_no": {
          "type": "integer"
        },
        "cvl_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvl_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvy_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "day_of_week": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_bs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "ddl_cnt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "del_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dep_rvw_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_ti": {
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "float"
            }
          }
        },
        "display_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "dtb_asn_usr": {
          "type": "long"
        },
        "dud_position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dud_position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "eft": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ext_daycnt": {
          "type": "long"
        },
        "ext_rqs_rsn1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ext_rqs_rsn2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ho_cnvrs_tno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "improve_cate": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "improve_count": {
          "type": "float"
        },
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "keys": {
          "type": "text",
          "fields": {
            "analyzed": {
              "type": "text",
              "analyzer": "whitespace",
              "fielddata": true
            },
            "keyword": {
              "type": "keyword",
              "ignore_above": 1024
            }
          }
        },
        "keyword": {
          "properties": {
            "similarity": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "word": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "kind_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ldin_cours_inln": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lf_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lfcns_mtd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lifeindex_airpollution": {
          "type": "long"
        },
        "lifeindex_discomport": {
          "type": "long"
        },
        "lifeindex_freezing": {
          "type": "long"
        },
        "lifeindex_uv": {
          "type": "long"
        },
        "message": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "mlt_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "nowlvl3data": {
          "properties": {
            "prt_org_cd": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "ocr_ar_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd1_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "org_lvl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ovv": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pcd_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "pr_end_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_cpl_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dep_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dvs_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_status_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_stt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prp_cntst_no": {
          "type": "integer"
        },
        "prp_smr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prt_dept_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prt_dept_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ps_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_weather": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "regist_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "rqr_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rqs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rsln_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rtn_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sbcbr_cnt": {
          "type": "integer"
        },
        "sct_kl_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd1_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd2_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd3_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sex_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_snd_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sn": {
          "type": "integer"
        },
        "sns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sspc_rqr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "stf_idx": {
          "type": "integer"
        },
        "sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "svy_rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "svy_rst_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "svy_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tags": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_result_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_type_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "to_be": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "toc_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trans_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "trans_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trf_rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            },
            "korean": {
              "type": "text",
              "analyzer": "kobrick",
              "search_analyzer": "kobrick_search"
            },
            "ngram": {
              "type": "text",
              "analyzer": "custom_ngram"
            }
          }
        },
        "wdl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "wdl_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wdl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wtm_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_s": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  },
  "settings": {
    "analysis": {
      "analyzer": {
        "custom_ngram": {
          "tokenizer": "custom_ngram"
        }
      },
      "tokenizer": {
        "custom_ngram": {
          "type": "nGram",
          "min_gram": "2",
          "max_gram": "6"
        }
      }
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "simple_query_string": {
            "query": "(대구실내빙상장) | (빙상장) | (빙질) | (대구빙상장) | (빙상) | (실내빙상장) | (아이들+위험) | (빙상선수들) | (실내빙상장에) | (대구+실내_빙상장) | (시장님+면담요청) | (빙질의) | (대구+시장에게) | (대구실내빙상장공사)",
            "fields": [
              "keyword.word",
              "ttl"
            ]
          }
        },
        {
          "range": {
            "regist_dt": {
              "gte": "2019-12-16 00:00:00",
              "lt": "2020-02-14 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 200,
  "sort": [
    {
      "regist_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "channel",
    "indexno",
    "ttl"
  ]
}
 
GET dm_chat/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-19 00:00:00",
              "lte": "2020-01-13 23:59:59"
            }
          }
        },
        {
          "simple_query_string": {
            "query": "(자동차 차 차량)",
            "fields": [
              "keyword.word"
            ]
          }
        }
      ]
    }
  },
  "size": 20,
  "aggs": {
    "date_aggs": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "day",
        "extended_bounds": {
          "min": "2019-12-19 00:00:00",
          "max": "2020-01-13 23:59:59"
        }
      }
    }
    
  },
  "_source": 
  [
    "keyword",
    "req_text",
    "display_dt",
    ""
    ]
  
}

GET dm_chat/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "complaints_type"
          }
        }
      ]
    }
  }, 
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ]
}
GET dm_chat/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "category_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "collection_dt", 
    "req_text"
  ]
}

GET _cat/indices/dm_chat

GET test_dm_chat/_mapping

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2020-01-09 00:00:00",
              "lte": "2020-01-09 09:59:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "aggs": {
    "region_aggs": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 100,
        "missing": ""
      }
    }
  }
}

GET ref_code_mapping/_search
{
  "size": 9999,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "del_yn": "N"
          }
        }
      ]
    }
  }
}


GET dm_index_smg/_search
{
  "query": {
    "match": {
      "now_tp_cd2_nm": "전기차충전소불법주정차"
    }
  },
  "_source": [
    "tp_cd_ti_nm",
    "ttl",
    "cnts"
  ],
  "size": 2000
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "match": {
            "acpt_no": "139421"
          }
        },
        {
          "simple_query_string": {
            "query": "(수성+효성해링턴) (효성해링턴+조경면적) (아파트+놀이터) (효성해링턴) (원가절감+퀄리티) (오시공) (관련)",
            "fields": ["ttl"]
          }
        }
      ]
    }
  }
}

GET dm_index_smg/_search
{
  "query": {
    "match": {
      "sn": "48252"
    }
  },
  "_source": [
    "ttl",
    "cnts",
    "keyword",
    "category_ti",
    "tp_cd_ti_nm"
  ]
}

GET dm_index_smg/_search
{
  "_source": [
    "display_dt",
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET dm_index_smg/_search
{
  "query": {
    "match": {
      "sn": "48145"
    }
  }
}

GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E010004"
    }
  }
}


GET doc2vec_index_gug/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": "E011003"
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "simple_query_string": {
            "query": "악취 냄새",
            "fields": [
              "ttl.korean",
              "cnts.korean"
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-05-01 00:00:00",
              "lte": "2019-06-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "sn",
    "ttl",
    "cnts",
    "zip_adr_g"
  ],
  "size": 700
}

GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "regist_dt": {
        "gte": "2019-12-28 00:00:00",
        "lte": "2019-12-30 00:00:00"
      }
    }
  },
  "_source": 
  [
    "regist_dt",
    "display_dt"
    ]
  
}

GET prp_index_main/_search



PUT prp_index_main
{
  "mappings" : {
      "doc" : {
        "properties" : {
          "@timestamp" : {
            "type" : "date"
          },
          "acpt_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "acpt_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "acpt_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "act_content" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "act_dept" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "act_plan" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "act_team" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "adr_dtl" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "adt_asn_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "adt_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "aft_exct_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "aft_exct_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "age_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 16
              }
            }
          },
          "ans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "app_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "as_is" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "bd_wr_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cng_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cnl_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cns_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 8191
              },
              "korean" : {
                "type" : "text",
                "analyzer" : "kobrick",
                "search_analyzer" : "kobrick_search"
              }
            }
          },
          "collection_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cont_ar" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cont_car_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cont_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cpl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cpy_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "crg" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "crg_org_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "crg_org_cd_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "crg_team" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cvl_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cvl_rqr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cvl_tp_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "cvy_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "day_of_week" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "dcs_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 16
              }
            }
          },
          "ddl_bs_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "ddl_cnt" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ddl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "del_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "dep_rvw_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "display_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "dud_position_x" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "dud_position_y" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "eft" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "ho_cnvrs_tno" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "imme_state" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "indexno" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "keyword" : {
            "properties" : {
              "similarity" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              },
              "word" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              }
            }
          },
          "kind_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ldin_cours_inln" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "lf_cpl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "lfcns_mtd_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "message" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "mlt_rqr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ocr_ar_cd1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ocr_ar_cd1_trans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ocr_ar_cd2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ocr_ar_cd2_trans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ovv" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "pcd_gubun" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "position_x" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "position_y" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "pr_end_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "pr_end_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "pr_end_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "pr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prc_dep_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prc_dvs_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prc_status_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prc_stt_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prcr_id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prcr_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "prp_cntst_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "prp_smr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "ps_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rcmd_cpy_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rcmd_cpy_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rd_nm_adr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 128
              }
            }
          },
          "ref_tp_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rg_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "rqr_no_sug" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rqr_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rqs_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "rsln_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "rtn_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sbcbr_cnt" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sct_kl_tp_cd1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd1_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd2_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd3" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sct_kl_tp_cd3_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sex_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 16
              }
            }
          },
          "smg_dcs_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "smg_snd_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sns_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "sspc_rqr_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "stf_idx" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "svy_rg_dt" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "svy_rst_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "svy_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "talk_result_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "talk_type_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "to_be" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "toc_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "trans_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "trf_rqr_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "ttl" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "wdl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "wdl_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "wdl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "wtm_cpl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "zip" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "zip_adr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip_adr_d" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "zip_adr_g" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "zip_adr_s" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          }
        }
      }
    }
}



GET dm_index_rqr/_mapping

GET temporary_prp_index_main/_search
{
  "_source": 
  [
    "acpt_dt",
    "display_dt",
    "rqs_dt"
    ]
}

POST _reindex
{
  "source": {
    "index": "prp_index_main"
  },
  "dest": {
    "index": "temporary_prp_index_main"
  }
}

DELETE prp_index_main
GET prp_index_main/_count

GET doc2vec_index_gug/_search
{
  "query": {
    "match": {
      "now_tp_cd2_nm": "악취"
    }
  },
  "size": 200
}
GET prp_index_main/_search
{
  "sort": [
    {
      "display_dt.keyword": {
        "order": "asc"
      }
    }
  ],
  "_source": 
  [
    "collection_dt",
    "display_dt",
    "ttl"
    ]
  
}


GET dm_index_rqr/_mapping

GET dm_index_rqr/_search
{
  "_source": [
    "prc_dvs_nm",
    "prc_status_nm",
    "prc_cpl_nm"
  ]
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-04 00:00:00",
              "lte": "2019-12-28 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "simple_query_string": {
            "query": "(수성+효성해링턴)|(효성해링턴+조경면적) | (아파트+놀이터) | (효성해링턴+안전) |(수성효성해링턴플레이스)|(수성효성+안전관련)|(수성효성+안전문제)",
            "fields": [
              "keyword.word",
              "ttl.korean"
            ]
          }
        }
      ]
    }
  }
}

GET dm_index_cll_2019/_mapping

GET dm_index_rqr/_search
{
  "aggs": {
    "prccplnm": {
      "terms": {
        "field": "prc_cpl_nm.keyword",
        "size": 10
      }
    }
  }
}
GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-30 00:00:00",
              "lte": "2019-12-30 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "simple_query_string": {
            "query": "()",
            "fields": [
              "keyword.word"
            ]
          }
        },
        {
          "simple_query_string": {
            "query": "(전기자동차  전지자동차 전기차 전지차)",
            "fields": [
              "keyword.word"
            ]
          }
        }
      ]
    }
  },
  "aggs": {
    "top_keyword": {
      "terms": {
        "field": "keyword.word.keyword",
        "size": 100
      }
    }
  }
}


GET dm_index_gug_2019/_count
GET dm_index_smg/_search

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "regist_dt"
          }
        }
      ]
    }
  }
}


PUT dm_index_smg
{
  "mappings" : {
      "doc" : {
        "properties" : {
          "@timestamp" : {
            "type" : "date"
          },
          "acpt_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "acpt_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "acpt_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "adr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "adr_dtl" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "adt_asn_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "adt_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aft_exct_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aft_exct_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "age_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_hh" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_mm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_mmdd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_yyyy" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_yyyymm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "aggr_yyyymmdd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "app_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "as_is" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "bd_wr_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "call_sub_channel" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "category_ti" : {
            "properties" : {
              "category" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              },
              "similarity" : {
                "type" : "float"
              }
            }
          },
          "channel" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cng_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cnl_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cnl_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cns_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 8191
              },
              "korean" : {
                "type" : "text",
                "analyzer" : "kobrick",
                "search_analyzer" : "kobrick_search"
              }
            }
          },
          "collection_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cont_ar" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cont_car_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cont_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cpl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "cpy_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "crawl_id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "crg" : {
            "type" : "integer"
          },
          "crg_org_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "crg_org_cd_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "crg_team" : {
            "type" : "integer"
          },
          "cvl_no" : {
            "type" : "integer"
          },
          "cvl_rqr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cvl_tp_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "cvy_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "day_of_week" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dcs_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ddl_bs_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "ddl_cnt" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ddl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "del_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dep_rvw_cnts" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dept_cd_ti" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dept_cd_ti_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dept_ti" : {
            "properties" : {
              "category" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              },
              "similarity" : {
                "type" : "float"
              }
            }
          },
          "display_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "dtb_asn_usr" : {
            "type" : "long"
          },
          "dud_position_x" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "dud_position_y" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "eft" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ext_daycnt" : {
            "type" : "long"
          },
          "ext_rqs_rsn1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ext_rqs_rsn2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ho_cnvrs_tno" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "improve_cate" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "improve_count" : {
            "type" : "float"
          },
          "indexno" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "keys" : {
            "type" : "text",
            "fields" : {
              "analyzed" : {
                "type" : "text",
                "analyzer" : "whitespace",
                "fielddata" : true
              },
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 1024
              }
            }
          },
          "keyword" : {
            "properties" : {
              "similarity" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              },
              "word" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              }
            }
          },
          "kind_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ldin_cours_inln" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "lf_cpl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "lfcns_mtd_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "lifeindex_airpollution" : {
            "type" : "long"
          },
          "lifeindex_discomport" : {
            "type" : "long"
          },
          "lifeindex_freezing" : {
            "type" : "long"
          },
          "lifeindex_uv" : {
            "type" : "long"
          },
          "message" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "mlt_rqr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_cpy_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_cpy_cd_f_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_cpy_cd_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_dept_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_dept_cd_f_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_dept_cd_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_prt_dept_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_prt_dept_cd_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_rcmd_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_rcmd_cd_f_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_rcmd_cd_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_tp_cd1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_tp_cd1_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_tp_cd2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "now_tp_cd2_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "nowlvl3data" : {
            "properties" : {
              "prt_org_cd" : {
                "type" : "text",
                "fields" : {
                  "keyword" : {
                    "type" : "keyword",
                    "ignore_above" : 256
                  }
                }
              }
            }
          },
          "ocr_ar_cd1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ocr_ar_cd1_trans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ocr_ar_cd2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ocr_ar_cd2_trans" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ocr_ar_d" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ocr_ar_g" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "org_lvl" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ovv" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "pcd_gubun" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "position_x" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "position_y" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "pr_end_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "pr_end_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "pr_end_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "pr_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prc_cpl_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prc_dep_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prc_dvs_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prc_status_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prc_stt_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prcr_id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prcr_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prp_cntst_no" : {
            "type" : "integer"
          },
          "prp_smr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prt_dept_cd_ti" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "prt_dept_cd_ti_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ps_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rcmd_cpy_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rcmd_cpy_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ref_holiday" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ref_holiday_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ref_tp_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ref_weather" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "regist_dt" : {
           "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "rg_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "rqr_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "rqr_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rqs_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "rsln_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "rtn_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sbcbr_cnt" : {
            "type" : "integer"
          },
          "sct_kl_tp_cd1" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd1_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sct_kl_tp_cd2" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd2_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sct_kl_tp_cd3" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "sct_kl_tp_cd3_re" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sex_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "smg_dcs_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "smg_snd_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sn" : {
            "type" : "integer"
          },
          "sns_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "sspc_rqr_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "stf_idx" : {
            "type" : "integer"
          },
          "sub_channel" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "svy_rg_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "svy_rst_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "svy_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "tags" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "talk_result_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "talk_type_cd" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "to_be" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "toc_tp" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "tp_cd_ti" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "tp_cd_ti_nm" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "trans_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "trans_gubun" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "trf_rqr_no" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "ttl" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              },
              "korean" : {
                "type" : "text",
                "analyzer" : "kobrick",
                "search_analyzer" : "kobrick_search"
              }
            }
          },
          "wdl_dt" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss"
          },
          "wdl_rsn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "wdl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "wtm_cpl_yn" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip_adr" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip_adr_d" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip_adr_g" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "zip_adr_s" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          }
        }
      }
    }
}



GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-30 00:00:00",
              "lte": "2019-12-31 00:00:00"
            }
          }
        },
        {
          "simple_query_string": {
            "query": "전기자동차 전기차 전지차 전지자동차",
            "fields": [
              "keyword.word"
              ]
          }
        }
      ]
    }
  }
}


GET dm_index_gug_*/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "match": {
            "sn": "12505535"
          }
        }
      ]
    } 
  }
}
GET dm_index_gug_2019/_count

GET dm_index_gug_2019/_mapping

GET doc2vec_index_gug/_count
PUT doc2vec_index_gug
{
  "mappings": {
    "doc": {
      "properties": {
        "acpt_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            }
          }
        },
        "collection_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "display_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "sn": {
          "type": "integer"
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  }
}

GET dm_index_gug*/_search
{
  "query": {
    "simple_query_string": {
      "query": "14074427",
      "fields": [
        "acpt_no",
        "sn",
        "indexno"
        ]
    }
  },
  "_source": 
  [
    "now_tp*",
    "acpt_no",
    "sn",
    "indexno",
    "cnts"
    ]
}

GET _cat/indices/dm_index_gug_2019


GET prp_index_main/_search
{
  "query": {
    "simple_query_string": {
      "query": "상징",
      "fields": [
        "ttl",
        "ttl.keyword", 
        "cnts",
        "cnts.korean",
        "keyword.word"
        ]
    }
  }
}
GET dev_dm_index_cll_2019/_mapping


GET prp_index_main/_search
{
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ]
}


GET _cat/indices/


GET dm_index_cll_2019/_count


GET dm_index_smg/_count

GET dm_index_smg/_mapping

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-01 00:00:00",
              "lte": "2019-12-31 00:00:00"
            }
          }
        },
        {
          "simple_query_string": {
            "query": "정차",
            "fields": [
              "ttl.korean",
              "cnts.korean",
              "keyword.word"
            ]
          }
        }
      ]
    }
  }
}

GET dm_index_smg/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-30 00:00:00",
        "lte": "2019-12-31 00:00:00"
      }
    }
  },
  "_source": 
  [
    "acpt_dt"
    ]
}
GET prp_index_main/_mapping


GET dm_index_gug_2019/_mapping
GET dm_index_gug_2019/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}


POST _reindex
{
  "source": {
    "index": "temporary_dm_index_cll_2019",
    "_source":{
      "excludes":
      [ "similarity" ]
    }
  },
  "dest": {
    "index": "dm_index_cll_2019"
  }
}


GET temporary_dm_index_gug_2019/_search
{
  "size": 0
  ,"aggs": {
    "tp": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}



GET dm_index_cll_2016/_search
{
  "query": {
    "simple_query_string": {
      "query": "나드리",
      "fields": [
          "cnts",
          "cnts.korean"
        ]
    }
  },
  "_source": 
  [
    "cnts"  
    ]
  
}
GET temporary_dm_index_cll_2015/_search
{
  "size": 2000
}


GET dev_dm_index_cll_2016/_count

GET prp_index_main/_search
GET prp_index_main/_mapping

GET dev_dm_index_rqr/_mapping

POST _reindex
{
  "source": {
    "index": "dm_index_gug_2016",
    "_source":{
      "excludes":
      [ "similarity" ]
    }
  },
  "dest": {
    "index": "dev_dm_index_gug_2016"
  }
}



GET dm_index_gug_2019/_search
{
  "query": {
    "match": {
      "sn": "12311649"
    }
  },
  "_source": 
  [
    "ttl",
    "cnts",
    "now_dept_cd_nm"
    ]
  
}

GET dm_index_rqr/_mapping

PUT dm_index_*/_mapping/doc
{
  "properties": {
    "regist_dt": {
      "type": "date",
      "format": "yyyy-MM-dd HH:mm:ss"
    }
  }
}



PUT dm_index_XXXX/_mapping/doc
{
  "properties": {
    "improve_cate": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword",
          "ignore_above": 32
        }
      }
    },
    "improve_count": {
      "type": "float"
    }
  }
}

GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E002011"
    }
  }
}

GET dm_index_gug_2019/_search

{
  "query": {
    "range": {
      "display_dt": {
        "lt": "2019-01-01 00:00:00"
      }
    }
  }
}


PUT dev_dm_index_gug_2015
{
  "mappings": {
    "doc": {
      "properties": {
        "@timestamp": {
          "type": "date"
        },
        "acpt_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "acpt_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "acpt_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr_dtl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_asn_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "age_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_hh": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyy": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "app_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "as_is": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "bd_wr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "call_sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "category_ti": {
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "float"
            }
          }
        },
        "channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cng_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cnl_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnl_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            },
            "korean": {
              "type": "text",
              "analyzer": "kobrick",
              "search_analyzer": "kobrick_search"
            }
          }
        },
        "collection_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cont_ar": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_car_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cpl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crawl_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg": {
          "type": "integer"
        },
        "crg_org_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_org_cd_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_team": {
          "type": "integer"
        },
        "cvl_no": {
          "type": "integer"
        },
        "cvl_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvl_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvy_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "day_of_week": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_bs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "ddl_cnt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "del_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dep_rvw_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_ti": {
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "float"
            }
          }
        },
        "display_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "dtb_asn_usr": {
          "type": "long"
        },
        "dud_position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dud_position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "eft": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ext_daycnt": {
          "type": "long"
        },
        "ext_rqs_rsn1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ext_rqs_rsn2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ho_cnvrs_tno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "improve_cate": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "improve_count": {
          "type": "float"
        },
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "keys": {
          "type": "text",
          "fields": {
            "analyzed": {
              "type": "text",
              "analyzer": "whitespace",
              "fielddata": true
            },
            "keyword": {
              "type": "keyword",
              "ignore_above": 1024
            }
          }
        },
        "keyword": {
          "properties": {
            "similarity": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "word": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "kind_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ldin_cours_inln": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lf_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lfcns_mtd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lifeindex_airpollution": {
          "type": "long"
        },
        "lifeindex_freezing": {
          "type": "long"
        },
        "lifeindex_uv": {
          "type": "long"
        },
        "message": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "mlt_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_cpy_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "nowlvl3data": {
          "properties": {
            "prt_org_cd": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "ocr_ar_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd1_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "org_lvl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ovv": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pcd_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "pr_end_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dep_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dvs_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_status_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_stt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prp_cntst_no": {
          "type": "integer"
        },
        "prp_smr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prt_dept_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prt_dept_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ps_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_weather": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "rqr_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rqs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rsln_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rtn_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sbcbr_cnt": {
          "type": "integer"
        },
        "sct_kl_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd1_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd2_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd3_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sex_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_snd_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sn": {
          "type": "integer"
        },
        "sns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sspc_rqr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "stf_idx": {
          "type": "integer"
        },
        "sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "svy_rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "svy_rst_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "svy_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tags": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_result_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_type_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "to_be": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "toc_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trans_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "trans_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trf_rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            },
            "korean": {
              "type": "text",
              "analyzer": "kobrick",
              "search_analyzer": "kobrick_search"
            }
          }
        },
        "wdl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "wdl_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wdl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wtm_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_s": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  }
}



GET dm_index_gug_2016/_count
GET dev_dm_index_gug_2016/_count


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "겨울철"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "어린이"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "지역"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "겨울"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "lte": "2019-12-14 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 50,
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "keyword"
  ]
}

GET dm_index_cll_2012/_mapping

GET dm_index_*/_search
{
  "query": {
    "nested": {
      "path": "keyword",
      "query": {
        "simple_query_string": {
          "query": "증설 버스",
          "fields": ["keyword.word"]
          , "default_operator": "OR"
        }
      }
    }
  },
  "_source": "keyword"
}



PUT my_index/_doc/1
{
  "group" : "fans",
  "user" : [ 
    {
      "first" : "John",
      "last" :  "Smith"
    },
    {
      "first" : "Alice",
      "last" :  "White"
    }
  ]
}

GET my_index/_search
{
  "query": {
    "bool": {
      "must": [
        { "match": { "user.last": "White" }},
        { "match": { "user.last":  "Smith" }}
      ]
    }
  }
}

PUT my_index2
{
  "mappings": {
    "doc": {
      "properties": {
        "user": {
          "type": "nested"
        }
      }
    }
  }
}


PUT my_index2/doc/1
{
  "group" : "fans",
  "user" : [
    {
      "first" : "John",
      "last" :  "Smith"
    },
    {
      "first" : "Alice",
      "last" :  "White"
    }
  ]
}

GET my_index2/doc/_search
{
  "query": {
    "bool": {
      "must": [
        { "match": { "user.last": "White" }},
        { "match": { "user.last":  "Smith" }}
      ]
    }
  }
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "버스"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "증설"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "노선"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "확충"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "지하철"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "노선"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "정류장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "배차시간"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "lte": "2019-12-19 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 2,
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "channel",
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2_nm",
    "tp_cd_ti_nm",
    "display_dt",
    "now_dept_cd_nm",
    "now_prt_dept_cd_nm",
    "prc_dep_nm"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "버스"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "증설"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "배차시간"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-19 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 200,
  "_source": [
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "nested": {
      "path": "keyword",
      "query": {
        "bool": {
          "must": [
            {
              "match": {
                "keyword.word": "버스"
              }
            },
            {
              "match": {
                "keyword.word": "증설"
              }
            }
          ]
        }
      }
    }
  },
  "size": 200,
  "_source": [
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "nested": {
      "path": "keyword",
      "query": {
        "bool": {
          "must": [
            {
              "match": {
                "keyword.word": "버스"
              }
            },
            {
              "match": {
                "keyword.word": "증설"
              }
            }
          ]
        }
      }
    }
  },
  "size": 200,
  "_source": [
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "nested": {
      "path": "keyword",
      "query": {
        "bool": {
          "must": [
            {
              "match": {
                "keyword.word":  {
                 "query": "버스 증설",
                 "operator": "OR"
                 }
              }
            }
          ]
        }
      }
    }
  },
  "size": 200,
  "_source": [
    "keyword"
  ]
}


GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "nested": {
                            "path": "keyword",
                            "query": {
                              "match": {
                                "keyword.word": "버스"
                              }
                            }
                          }
                        },
                        {
                          "nested": {
                            "path": "keyword",
                            "query": {
                              "match": {
                                "keyword.word": "증설"
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-19 23:59:59"
            }
          }
        }
      ]
    }
  },
  "size": 200,
  "_source": [
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "bool": {
            "must": [
              {
                "match": {
                  "preference_1": "Apples"
                }
              },
              {
                "match": {
                  "preference_2": "Bananas"
                }
              }
            ]
          }
        },
        {
          "bool": {
            "must": [
              {
                "match": {
                  "preference_1": "Apples"
                }
              },
              {
                "match": {
                  "preference_2": "Cherries"
                }
              }
            ]
          }
        },
        {
          "match": {
            "preference_1": "Grapefruit"
          }
        }
      ]
    }
  }
}



GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E011"
    }
  }
}


GET dm_index_gug_2017/_search
{
  "size": 2000, 
  "_source": 
  [
    "aggr*"    
    ]
}
GET dm_index_gug_2017/_search
{
  "size": 0,
  "aggs": {
    "aggrtime1": {
      "terms": {
        "field": "aggr_yyyymmdd.keyword",
        "size": 400,
        "order": {
          "_term": "asc"
        }
      }
    },
    "aggrtime2": {
      "terms": {
        "field": "aggr_yyyymm.keyword",
        "size": 400,
        "order": {
          "_term": "asc"
        }
      }
    },
    "aggrtime3": {
      "terms": {
        "field": "aggr_mmdd.keyword",
        "size": 400,
        "order": {
          "_term": "asc"
        }
      }
    }
  }
}
GET dm_index_smg/_search
{
  "size": 200, 
  "query": {
    "range": {
      "display_dt": {
        "gte": "2018-01-01 00:00:00",
        "lte": "2018-02-01 00:00:00"
      }
    }
  },
  "_source": 
  [
    "cnts"
    ]
  
}

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "match": {
                "keyword.word": "첨부"
              }
            }
          }
        }
      ]
    }
  },
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ], 
  "size": 1000
}



GET dm_index_smg/_search
{
  "size": 0
  , "aggs": {
    "deptcd": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 100
      }
    }
  }
}


GET dm_index_cll_2019/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "match": {
                "keyword.word": "요구 요청 요망"
              }
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "top_keyword": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 500
          }
        }
      }
    }
  }
}
GET dm_index_cll_2018/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "keyword.word": "요구 요청 요망"
          }
        }
      ]
    }
  },
  "aggs": {
    "max_keyword": {
      "terms": {
        "field": "keyword.word.keyword",
        "size": 500
      }
    }
  }
}

GET dm_index_smg/_search
{
  "size": 200
  , "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "ttl",
    "cnts",
    "now_tp*",
    "tp_cd_ti*"
    ]
  
}

GET dm_index_smg/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "smg_19296"
      }
    }
  }
}

GET ref_org_mapping/_search
{
  "query": {
    "match": {
      "org_cd": "6271021"
    }
  }
}

GET dm_index_gug_2017/_search

GET dm_index_gug_2019/_search
{
  "size": 0
  , "aggs": {
    "yyyymmdd": {
      "terms": {
        "field": "aggr_yyyymmdd.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_gug_2015/_search
{
  "size": 0,
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-18 00:00:00",
              "lte": "2019-12-19 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "_source": [
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20191218-000003"
      }
    }
  }
}


GET prp_index_main/_search
{
  "sort": [
    {
      "display_dt.keyword": {
        "order": "desc"
      }
    }
  ], 
  "_source": 
  [
    "rqr_no_sug", 
    "ttl",
    "cnts",
    "cnl_cd",
    "prp_cntst_no",
    "prc_stt_cd"
    ]
}

GET prp_index_main/_search
{
  "size": 40, 
  "query": {
    "simple_query_string": {
      "query": "SUG*",
      "fields": [
        "rqr_no_sug"
        ]
    }
  },
  "_source": 
  [
    "rqr_no_sug"
    ]
}

GET dm_index_rqr/_mapping

GET dm_index_rqr/_search
{
  "query": {
    "match": {
      "FIELD": "TEXT"
    }
  }
}


GET sv_ex_issue/_search
{
  "sort": [
    {
      "mdfy_dt": {
        "order": "desc"
      }
    }
  ]
}



GET sv_ex_issue/_search
{
  "query": {
    "term": {
      "id.keyword": {
        "value": "T-20191210-005_smg_47661"
      }
    }
  }
}

GET sv_ex_issue/_search

GET sv_ex_issue/_mapping

GET sv_channel_dic_report

GET dm_index_smg/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "smg_47661"
      }
    }
  }
}

GET sv_ex_issue/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "smg_47661"
      }
    }
  }
}
GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-11-15 00:00:00",
        "lte": "2019-12-15 00:00:00"
      }
    }
  }, 
  "aggs": {
    "hh": {
      "terms": {
        "field": "aggr_hh.keyword",
        "size": 100
      }
    }
  }
}




GET sv_ex_issue/_search
{
  "sort": [
    {
      "mdfy_dt": {
        "order": "desc"
      }
    }
  ]
}

GET sv_ex_issue/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "id.keyword": {
              "value": "T-20191210-004_smg_47712"
            }
          }
        },
        {
          "term": {
            "id.keyword": {
              "value": "T-20191210-004_rqr_L-R-20191206-000019"
            }
          }
        },
        {
          "term": {
            "id.keyword": {
              "value": "T-20191210-004_smg_47750"
            }
          }
        }
      ]
    }
  }
}

GET sv_ex_issue/_search
{
  "sort": [
    {
      "mdfy_dt": {
        "order": "desc"
      }
    }
  ]
}




PUT sv_ex_issue/doc/T-20191210-005_smg_47661
{
  "id": "T-20191210-005_smg_47661",
  "issue_id": "T-20191210-005",
  "indexno": "smg_47661",
  "channel": "smg",
  "mdfy_dt": "2019-12-16 12:02:24"
}

GET prp_index_main/_search
{
  "sort": [
    {
      "display_dt.keyword": {
        "order": "desc"
      }
    }
  ]
}
GET prp_index_main/_mapping

GET dm_index_rqr/_search

{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-31 00:00:00",
        "lte": "2019-12-31 11:00:00"
      }
    }
  }
}

GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E009009"
    }
  }
}
GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E002003"
    }
  }
}
GET dm_index_cll_2019/_search
{
  "size": 20,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-01 00:00:00",
        "lte": "2020-01-17 00:00:00"
      }
    }
  },
  "_source": [
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "catgoyry_ti",
    "tp_cd_ti_nm"
  ],
  "aggs": {
    "tpcdnm": {
      "terms": {
        "field": "tp_cd_ti_nm.keyword",
        "size": 150
      }
    }
  }
}

GET dm_index_cll_2016/_search
{
  "query": {
    "bool": {
      "must_not": [
        {
          "exists": {
            "field": "cnts"
          }
        }
      ]
    }
  }
}


GET dm_index_cll_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-29 00:00:00"
            }
          }
        },
        {
          "exists": {
            "field": "cnts"
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}


GET dm_index_cll_*/_search
{
  "query": {
    "match": {
      "indexno": "cll_1472951"
    }
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "match": {
      "sensitive_info": "Y"
    }
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2020-01-01 00:00:00",
              "lte": "2020-01-31 00:00:00"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "my-agg": {
      "terms": {
        "script": {
          "inline": "doc['dept_cd_ti.keyword'].getValue() == doc['now_dept_cd.keyword'].getValue()"
        },
        "size": 100,
        "order": {
          "_count": "desc"
        }
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 20,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-01 00:00:00",
              "lte": "2019-12-15 09:30:00"
            }
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "sct_kl_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        },
        {
          "exists": {
            "field": "cnts"
          }
        },
        {
          "exists": {
            "field": "tp_cd_ti_nm"
          }
        }
      ]
    }
  },
  "_source": [
    "ttl",
    "cnts",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "tp_cd_ti_nm", 
    "category_ti"
  ],
  "aggs": {
    "my-agg": {
      "terms": {
        "script": {
          "inline": "doc['tp_cd_ti.keyword'].getValue() == doc['now_tp_cd2.keyword'].getValue()"
        },
        "size": 100,
        "order": {
          "_count": "desc"
        }
      }
    }
  }
}


GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2020-01-01 00:00:00",
              "lte": "2020-12-31 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "aggs": {
    "months": {
      "terms": {
        "field": "aggr_yyyymm.keyword",
        "size": 13,
        "missing": ""
      },
      "aggs": {
        "top_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 500
          }
        }
      }
    }
  }
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-04 00:00:00",
              "lte": "2019-12-27 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "simple_query_string": {
            "query": "(수성+효성해링턴) | (효성해링턴+조경면적) | (아파트+놀이터) | (효성해링턴) | (오시공) | (수성효성해링턴플레이스) | (안전관련) | (안전문제) | (수성효성) | (수성효성해링턴) | (해링턴) | (원가절감+퀄리티) | (원가+퀄리티) | (시공+문제제기)",
            "fields": [
              "keyword.word",
              "ttl.korean"
            ]
          }
        }
      ]
    }
  },
  "from": 0,
  "size": 3000,
  "_source": [
    "crawl_id",
    "acpt_no",
    "cnl_nm",
    "rqs_dt",
    "acpt_dt",
    "ttl",
    "cnts",
    "ans",
    "now_tp_cd1_nm",
    "now_tp_cd2_nm",
    "adr",
    "ocr_ar_g",
    "ocr_ar_d",
    "cpl_dt",
    "now_dept_cd_nm",
    "prcn_nm",
    "ddl_dt",
    "pr_yn",
    "prc_status_nm",
    "rcmd_cpy_nm",
    "mlt_rqr_yn",
    "ddl_cnt",
    "ext_daycnt",
    "ddl_dt",
    "ext_rqs_rsn1",
    "ext_rqs_rsn2",
    "stf_idx",
    "svy_rg_dt",
    "dcs_yn"
  ]
}

GET dm_index_gug_2019/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "size": 200, 
  "_source": 
  [
    "ttl",
    "tp_cd_ti_nm"
    ]
  
}

GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-30 00:00:00"
            }
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "cnts.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "display_dt",
    "indexno",
    "ttl",
    "cnts"
  ]
}



GET dm_index_rqr/_search
{
  "size": 0, 
  "aggs": {
    "nowtp": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_cll_2019/_search
{
  "query": {
    "match": {
      "indexno": "cll_4060280"
    }
  },
  "_source": 
  [
    "now_tp_cd2",
    "tp_cd_ti"
    ]
  
}

GET dm_index_gug_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-07 00:00:00"
      }
    }
  },
  "size": 2000,
  "_source": 
  [
    "ttl",
    "cnts",
    "tp_cd_ti_nm",
    "category_ti"
    ]
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": "E011003"
                  }
                }
              }
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-15 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "now_tp_cd1",
    "now_tp_cd1_nm",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "ttl",
    "cnts",
    "tp_cd_ti"
  ],
  "aggs": {
    "tpcd2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}
GET ref_code_mapping/_search
{
  "_source": [
    "code",
    "code_nm"
  ],
  "size": 2000
}
DELETE test_cate_rqr
GET test_cate_rqr/_search
{
  "query": {
    "match": {
      "is_match": "F"
    }
  },
  "size": 500
}
DELETE test_cate_rqr
GET test_cate_rqr/_search
{
  "size": 0,
  "query": {
    "match": {
      "top_ref": "3"
    }
  }, 

  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_.keyword",
        "size": 10
      }
    }
  }
}
GET test_cate_rqr/_search
{
  "size": 0,
  "aggs": {
    "tf": {
      "terms": {
        "field": "is_match.keyword",
        "size": 10
      }
    }
  }
}




GET test_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 210
      }
    }
  }
}





GET dm_index_rqr/_mapping

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-09-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "display_dt",
    "indexno",
    "ttl",
    "cnts"
  ]
}
GET dm_index_gug_*/_search
{
  "query": {
    "match": {
      "channel": "gug"
    }
  },
  "_source": [
    "indexno",
    "cnts"
  ]
}


GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-06 00:00:00",
              "lte": "2019-12-12 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "aggs": {
    "top_keyword": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 200
          }
        }
      }
    }
  }
}

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-15 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "display_dt",
    "indexno",
    "ttl",
    "cnts"
  ]
}



GET sv_channel_dic/_search
{
  "aggs": {
    "": {
      "AGG_TYPE": {}
    }
  }
}

GET dm_index_cll_2019/_search
{
  "size": 0, 
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-05 00:00:00",
        "lte": "2019-12-11 23:59:59"
      }
    }
  },
  "aggs": {
    "top_keyword": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 100
          }
        }
      }
    }
  }
}


GET back_test_v4_dm_index_rqr/_mapping

GET dm_index_rqr/_mapping

GET test2_dm_index_cll_2019/_search

GET dm_index_rqr/_search

GET dm_index_cll_2019/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}


GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "exists": {
            "field": "cnts"
          }
        },
        {
          "term": {
            "channel": {
              "value": "cll"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}



GET dm_index_rqr/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}

GET dm_index_cll_2019/_search
{
  "size": 1000,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-08 00:00:00"
      }
    }
  }, 
  "_source": 
  [
    "tp_cd_ti",
    "keyword"
    ]
  
}


GET dm_index_rqr/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "display_dt",
    "now_dept_cd_nm",
    "dept_cd_ti_nm",
    "now_tp_cd2_nm",
    "tp_cd_ti_nm"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "collection_dt", 
    "display_dt",
    "indexno",
    "ttl",
    "cnts"
  ]
}


POST _reindex
{
  "source": {
    "index": "dm_index_smg",
    "_source": {
      "excludes": [
        "category_ti",
        "keyword",
        "tp_cd_ti",
        "tp_cd_ti_nm"
      ]
    }
  },
  "dest": {
    "index": "temp_dm_index_smg"
  }
}

GET dm_index_smg/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "category_ti",
    "keyword",
    "tp_cd_ti",
    "dept_cd_ti",
    "tp_cd_ti_nm",
    "dept_cd_ti_nm",
    "now_dept_cd_nm",
    "now_prt_dept_cd_nm"
    ]
}



PUT dm_index_smg
{
  "mappings": {
    "doc": {
      "properties": {
        "@timestamp": {
          "type": "date"
        },
        "acpt_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "acpt_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "acpt_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adr_dtl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_asn_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "adt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aft_exct_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "age_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_hh": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_mmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyy": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "aggr_yyyymmdd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "app_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "as_is": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "bd_wr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "call_sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "category_ti": {
          "type": "nested",
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "double"
            }
          }
        },
        "channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cng_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cnl_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnl_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            }
          }
        },
        "collection_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cont_ar": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_car_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cont_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cpl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crawl_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg": {
          "type": "integer"
        },
        "crg_org_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_org_cd_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "crg_team": {
          "type": "integer"
        },
        "cvl_no": {
          "type": "integer"
        },
        "cvl_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvl_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "cvy_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "day_of_week": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_bs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "ddl_cnt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ddl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "del_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dep_rvw_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dept_cd_ti_r3_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "display_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "dud_position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "dud_position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "eft": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ho_cnvrs_tno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "keys": {
          "type": "text",
          "fields": {
            "analyzed": {
              "type": "text",
              "analyzer": "whitespace",
              "fielddata": true
            },
            "keyword": {
              "type": "keyword",
              "ignore_above": 1024
            }
          }
        },
        "keyword": {
          "type": "nested",
          "properties": {
            "similarity": {
              "type": "double"
            },
            "word": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "kind_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ldin_cours_inln": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lf_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lfcns_mtd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "lifeindex_airpollution": {
          "type": "long"
        },
        "lifeindex_freezing": {
          "type": "long"
        },
        "lifeindex_uv": {
          "type": "long"
        },
        "message": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "mlt_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_prt_dept_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_f_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_rcmd_cd_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "nowlvl3data": {
          "properties": {
            "prt_org_cd": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "ocr_ar_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd1_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ocr_ar_cd2_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "org_lvl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ovv": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pcd_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "pr_end_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_end_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "pr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dep_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_dvs_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_status_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prc_stt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prcr_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "prp_cntst_no": {
          "type": "integer"
        },
        "prp_smr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ps_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rcmd_cpy_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_holiday_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ref_weather": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "rqr_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rqs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rsln_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rtn_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sbcbr_cnt": {
          "type": "integer"
        },
        "sct_kl_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd1_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd2_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sct_kl_tp_cd3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd3_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sensitive_info": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sex_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "smg_snd_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sn": {
          "type": "integer"
        },
        "sns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sspc_rqr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "stf_idx": {
          "type": "integer"
        },
        "sub_channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "svy_rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "svy_rst_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "svy_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tags": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_result_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "talk_type_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "to_be": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "toc_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_ti_r3_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trans_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "trans_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "trf_rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wdl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "wdl_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wdl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "wtm_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "zip_adr_s": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  }
}


GET sv_user_dic_dev/_mapping
GET sv_channel_dic_report/_search

POST _reindex
{
  "source": {
    "index": "sv_channel_dic_dev"
  },
  "dest": {
    "index": "sv_channel_dic_report"
  }
}


GET dm_index_smg/_search
{
  "size": 15, 
  "aggs": {
    "sct_kl_tp_cd2_re": {
      "terms": {
        "field": "sct_kl_tp_cd2_re.keyword",
        "size": 210
      }
    },
    "nowcd":{
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    },
    "nowcdnm":{
      "terms": {
        "field": "now_tp_cd2_nm.keyword",
        "size": 210
      }
    }
  }
}



GET sv_channel_dic_report




GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "display_dt", 
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET dm_index_smg/_search
{
  "size": 1, 
  "query": {
    "bool": {
      "must_not": [
        {
          "term": {
            "sct_kl_tp_cd2_re.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "sct_kl_tp_cd2_re": {
      "terms": {
        "field": "sct_kl_tp_cd2_re.keyword",
        "size": 210
      }
    }
  }
}
GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        },
        {
          "term": {
            "sct_kl_tp_cd2_re.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  },
  "_source": 
  [
    "indexno",
    "now_tp_cd2",
    "sct_kl_tp_cd1",
    "sct_kl_tp_cd2"
    ]
}



GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "sct_kl_tp_cd2_re.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}

GET dm_index_smg/_search
{
  "size": 1, 
  "query": {
    "bool": {
      "must_not": [
        {
          "term": {
            "now_tp_cd2.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "sct_kl_tp_cd2_re": {
      "terms": {
        "field": "sct_kl_tp_cd2_re.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_smg/_search
{
  "size": 0
  , "aggs": {
    "NAME": {
      "AGG_TYPE": {}
    }
  }
}

GET result_dept_smg/_search

GET result_dept_smg/_search
{
  "query": {
    "match": {
      "is_match": "N"
    }
  },
  "aggs": {
    "deptcd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    }
  }
}


GET test_dept_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "range": {
            "display_dt": {
              "gt": "2019-08-01 00:00:00"
            }
          }
        }
      ]
    }
  }
}

{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_dept_cd.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "lt": "2019-08-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_dept_cd"
  ],
  "aggs": {
    "NAME": {
      "AGG_TYPE": {}
    }
  }
}

GET result_dept_smg/_search
{
  "size": 0, 
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "top_ref": 1
          }
        }
      ]
    }
  },
  "aggs": {
    "tf": {
      "terms": {
        "field": "is_match.keyword",
        "size": 10
      }
    }
  }
}

GET test_dept_rqr/_search
{
  "size": 1,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "dept": {
      "terms": {
        "field": "dept_cd_ti.keyword",
        "size": 200,
        "missing": "XXXXXXXXXXXXXXX"
      }
    }
  }
}

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        }
      ]
    }
  },
  "aggs": {
    "dept": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 210,
        "missing": "@@@@@@@@@@@@@@@@@@"
      }
    }
  }
}

GET test_dept_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "bool": {
            "should": [
              {
                "term": {
                  "dept_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "dept_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

POST _reindex
{
  "source": {
    "index": "dm_index_smg"
  },
  "dest": {
    "index": "test_dept_smg"
  }
}


GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_dept_cd.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "lt": "2019-08-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_dept_cd"
  ]
}

GET dm_index_cll_2019/_search
{
  "size": 1,
  "query": {
    "match": {
      "trans_gubun": "org"
    }
  },
  "aggs": {
    "dept": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200,
        "missing": "XXXXXXXXXXXXXXX"
      }
    }
  }
}


GET dm_index_rqr/_mapping

GET ref_org_mapping/_search

GET result_dept_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "top_ref": ""
          }
        }
      ]
    }
  },
  "size": 2000,
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_prt_dept_cd_nm",
    "now_dept_cd_nm",
    "is_match",
    "tp_cd_r1_nm",
    "tp_cd_r1_score",
    "tp_cd_r2_nm",
    "tp_cd_r2_score",
    "tp_cd_r3_nm",
    "tp_cd_r3_score"
  ]
}

GET result_dept_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "top_ref": 2
          }
        }
      ]
    }
  },
  "size": 2000, 
  "_source": 
  [
    "indexno",
    "ttl",
    "cnts",
    "now_prt_dept_cd_nm",
    "now_dept_cd_nm",
    "is_match",
    "tp_cd_r1_nm",
    "tp_cd_r1_score",
    "tp_cd_r2_nm",
    "tp_cd_r2_score",
    "tp_cd_r3_nm",
    "tp_cd_r3_score"
    ]
}

GET result_dept_rqr/_search
{
  "aggs": {
    "tf": {
      "terms": {
        "field": "is_match.keyword",
        "size": 10
      }
    }
  }
}

GET test_dept_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "trans_gubun": "org"
          }
        }
      ]
    }
  },
  "_source": 
  [
  "now_dept_cd",
  "sct_org_cd_re", 
  "trans_gubun", 
  "dept_cd_ti"
    ]
  
}


GET test_dept_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "trans_gubun": "org"
          }
        }
      ]
    }
  }
}

GET testgg_dept_rqr/_search
{
  "aggs": {
    "dept": {
      "terms": {
        "field": "dept_cd_ti_nm.keyword",
        "size": 210
      }
    }
  }
}


GET test_dept_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "trans_gubun": "org"
          }
        },
        {
          "bool": {
            "should": [
              {
                "term": {
                  "dept_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "dept_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}



GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "tp_cd_ti_nm": "불법주정차"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-01 00:00:00",
              "lte": "2019-12-05 00:00:00"
            }
          }
        }
      ]
    }
  },
  "size": 50,
  "aggs": {
    "byDate": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "day"
      },
      "aggs": {
        "tpcd": {
          "terms": {
            "field": "tp_cd_ti.keyword",
            "size": 210
          }
        }
      }
    }
  },
  "_source": [
    "cnts",
    "ttl",
    "tp_cd_ti_nm",
    "keyword"
  ]
}

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "match": {
                  "tp_cd_ti_nm": "불법주정차"
                }
              }
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-01 00:00:00",
              "lte": "2019-11-05 00:00:00"
            }
          }
        }
      ]
    }
  },
  "size": 50,
  "aggs": {
    "byDate": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "day"
      },
      "aggs": {
        "tpcd": {
          "terms": {
            "field": "tp_cd_ti.keyword",
            "size": 210
          }
        }
      }
    }
  },
  "_source": [
    "cnts",
    "ttl",
    "tp_cd_ti_nm",
    "keyword"
  ]
}

GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E002011"
    }
  }
}


GET dm_index_rqr/_search
{
  "query": {
    "simple_query_string": {
      "query": "(안녕)|(우신미가뷰+점검)",
      "fields": [
        "ttl",
        "cnts"
      ]
    }
  },
  "sort": [
    "_score",
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ], 
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET sv_channel_dic_report/_search
{
  "query": {
    "match": {
      "channel": "cll"
    }
  },
  "size": 200
}

GET sv_user_dic_dev/_search
{
  "query": {
    "match": {
      "type": "stopword"
    }
  }
}

GET sv_user_dic_dev/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "is_synonym": "N"
          }
        },
        {
          "match": {
            "type": "synonymword"
          }
        }
      ]
    }
  }
}


GET sv_user_dic_report/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "word": "대구역센트럴자이입주민"
          }
        }
      ]
    }
  }
}

GET sv_channel_dic_report/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "all"
          }
        }
      ]
    }
  },
  "size": 200
}



GET dm_index_*/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20191203-000032"
      }
    }
  },
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}




GET sv_channel_dic_report/_search
{
  "size": 200
}


GET sv_user_dic_report/_search

GET sv_channel_dic/_search




GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-01 00:00:00",
              "lt": "2019-12-04 00:00:00"
            }
          }
        }
      ]
    }
  },
  "size": 500, 
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "indexno",
    "rg_dt",
    "rqs_dt",
    "collection_dt",
    "ttl",
    "cnts",
    "tp_cd_ti",
    "tp_cd_ti_nm",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "keyword"
  ]
}

GET dm_index_*/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20191101-000017"
      }
    }
  }
}

GET dm_index_cll_2019/_search
{
  "query": {
    "match": {
      "indexno": "cll_4054887 cll_4054888 cll_4054889 cll_4054890 cll_4054891"
    }
  },
  "_source": [
    "indexno",
    "rg_dt",
    "rqs_dt",
    "collection_dt",
    "ttl",
    "cnts",
    "tp_cd_ti",
    "tp_cd_ti_nm",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "keyword"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-01 00:00:00",
        "lt": "2019-12-11 00:00:00"
      }
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "category_ti",
    "keyword"
    
  ]
}
 




GET dm_index_gug_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-11-01 00:00:00",
        "lte": "2019-12-01 00:00:00"
      }
    }
  }, 
  "size": 200, 
  "_source": 
  [
    "rg_dt",
    "rqs_dt",
    "ttl",
    "cnts",
    "tp_cd_ti_nm",
    "now_tp_cd2_nm"
    ]
  
}




GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-01 00:00:00",
              "lt": "2019-12-04 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "indexno",
    "rg_dt",
    "rqs_dt",
    "collection_dt",
    "ttl",
    "cnts",
    "tp_cd_ti",
    "tp_cd_ti_nm",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "keyword"
  ]
}






















GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "exists": {
            "field": "cnts"
          }
        },
        {
          "term": {
            "channel": {
              "value": "cll"
            }
          }
        }
      ]
    }
  },
  "size": 200, 
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}













GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2018-01-01 00:00:00",
        "lte": "2020-01-01 00:00:00"
      }
    }
  },
  "size": 10,
  "_source": [
    "now_dept*",
    "crg_org_cd*",
    "rcmd_cpy_cd",
    "keyword"
  ]
}

GET dm_index_count_2015/_count

{
  "_source": ""
}


GET testdm_index_rqr/_search
{
  "aggs": {
    "tpcd":{
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 100
      }
    }
  }
}


GET dm_index_rqr/_search
{
  "size": 10, 
  "aggs": {
    "tpcd":{
      "terms": {
        "field": "now_tp_cd2_nm.keyword",
        "size": 100
      }
    }
  }
}
GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-01 00:00:00",
        "lte": "2020-01-01 00:00:00"
      }
    }
  }, 
  "_source": 
  [
    "now_tp_cd1_nm",
    "now_tp_cd2_nm"
    ]
}

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "channel": {
              "value": "gug"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "rqr"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "tp_cd_ti"
  ]
}



GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": ""
      }
    }
  },
  "_source": [
    "indexno",
    "rg_dt",
    "sct_kl_tp_cd1_re"
  ],
  "aggs": {
    "tp": {
      "terms": {
        "field": "sct_kl_tp_cd1_re.keyword",
        "size": 10
      }
    }
  }
}

GET dm_index_gug_2019/_search
{
  "size": 0,
  "aggs": {
    "tpcd": {
      "terms": {
        "field": "tp_cd_ti_nm.keyword",
        "size": 210
      }
    }
  }
}



GET dm_index_rqr/_search
{
  "query": {
    
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": "E011003"
                  }
                }
              }
            ]
          }
        },
        {
          "range": {
            "display_dt": {
              "lt": "2019-09-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}


GET dm_index_cll*/_search
{
  "query": {
    "term": {
      "indexno": {
        "value": "cll_4054527"
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 0
  , "aggs": {
    "tpcd": {
      "terms": {
        "field": "now_tp_cd1_nm.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd1.keyword": {
        "value": "%{[nowcodedata][0][new_code_1]}"
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 2000,
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "indexno",
    "collection_dt",
    "acpt_dt",
    "cnts",
    "now_tp_cd2",
    "keyword",
    "tp_cd_ti"
  ]
}

GET dm_index_gug_2019/_search
{
  "size": 0
  , "aggs": {
    "tpcd": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 300
      }
    }
  }
}


GET sv_ex_issue/_search
{
  "query": {
    "match_all": {}
  }
}

POST sv_ex_issue/_delete_by_query
{
  "query": {
    "match_all": {}
  }
}

GET dm_index_smg/_mapping


GET dm_index_smg/_search
{
  "size": 200, 
  "sort": [
    {
      "acpt_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
  "indexno",
  "rg_dt", 
  "collection_dt",
  "acpt_dt"
    ]
  
}


GET testdm_index_rqr/_search

DELETE check_dm_index_smg

GET check_dm_index_smg/_search
{
  "query": {
    "match": {
      "trans_gubun": "org"
    }
  }, 
  "size": 2,
  "aggs": {
    "now_dept_cd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    },
    "now_dept_cd_nm": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd_nm": {
      "terms": {
        "field": "now_prt_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd": {
      "terms": {
        "field": "now_prt_dept_cd.keyword",
        "size": 200
      }
    },
    "trans_gubun":{
      "terms": {
        "field": "trans_gubun.keyword",
        "size": 200
      }
    }
  }
}

GET dm_index_gug_2019/_search


GET check_dm_index_cll_2019/_search
{
  "query": {
    "term": {
      "now_dept_cd.keyword": {
        "value": "3470182"
      }
    }
  }
}

DELETE testdm_index_smg

GET testdm_index_smg/_search

GET check_dm_index_cll_2019/_search
{
  "size": 0,
  "query": {
    "match": {
      "trans_gubun": "org"
    }
  }, 
  "aggs": {
    "now_dept_cd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    },
    "now_dept_cd_nm": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd_nm": {
      "terms": {
        "field": "now_prt_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd": {
      "terms": {
        "field": "now_prt_dept_cd.keyword",
        "size": 200
      }
    },
    "trans_gubun":{
      "terms": {
        "field": "trans_gubun.keyword",
        "size": 200
      }
    }
  }
}


GET testdm_index_cll_2019/_search
{
  "size": 2,
  "query": {
    "exists": {
      "field": "ho_cnvrs_tno"
    }
  }, 
  "aggs": {
    "now_dept_cd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    },
    "now_dept_cd_nm": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd_nm": {
      "terms": {
        "field": "now_prt_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd": {
      "terms": {
        "field": "now_prt_dept_cd.keyword",
        "size": 200
      }
    },
    "trans_gubun":{
      "terms": {
        "field": "trans_gubun.keyword",
        "size": 200
      }
    }
  }
}

GET dm_index_smg/_search
{
  "size": 0
  , "aggs": {
    "rcmd": {
      "terms": {
        "field": "rcmd_cpy_cd.keyword",
        "size": 200
      }
    }
  }
}

GET dm_index_cll_2019/_search
{
  "query": {
    
  }
}

GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "FIELD": {
        "gte": 10,
        "lte": 20
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 2,
  "aggs": {
    "now_dept_cd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    },
    "now_dept_cd_nm": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd_nm": {
      "terms": {
        "field": "now_prt_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd": {
      "terms": {
        "field": "now_prt_dept_cd.keyword",
        "size": 200
      }
    },
    "trans_gubun":{
      "terms": {
        "field": "trans_gubun.keyword",
        "size": 200
      }
    }
  }
}
GET testdm_index_rqr/_search
{
  "query": {
    "match": {
      "now_prt_dept_cd_nm": "%{[nowprtorgdata][0][org_nm]}"
    }
  },
  "size": 550
}
GET testdm_index_rqr/_search
{
  "query": {
    "match": {
      "crg_org_cd_re": "6270555"
    }
  }
}

DELETE re_testdm_index_rqr
GET re_testdm_index_rqr/_search
{
  "size": 1, 
  "query": {
    "match": {
      "trans_gubun": "rcmd"
    }
  },
  "aggs": {
    "now_rcmd_cd_nm": {
      "terms": {
        "field": "now_rcmd_cd_nm.keyword",
        "size": 100
      }
    },
    "now_rcmd_cd_f_nm": {
      "terms": {
        "field": "now_rcmd_cd_f_nm.keyword",
        "size": 100
      }
    }
  }
}

GET re_testdm_index_rqr/_search
{
  "size": 2,
  "aggs": {
    "now_dept_cd": {
      "terms": {
        "field": "now_dept_cd.keyword",
        "size": 200
      }
    },
    "now_dept_cd_nm": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd_nm": {
      "terms": {
        "field": "now_prt_dept_cd_nm.keyword",
        "size": 200
      }
    },
    "now_prt_dept_cd": {
      "terms": {
        "field": "now_prt_dept_cd.keyword",
        "size": 200
      }
    },
    "trans_gubun": {
      "terms": {
        "field": "trans_gubun.keyword",
        "size": 200
      }
    }
  }
}



GET testdm_index_rqr/_search
{
  "query": {
    "term": {
      "trans_gubun.keyword": {
        "value": ""
      }
    }
  },
  "_source": "indexno"
}

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_P-R-20180724-000032"
      }
    }
  },
  "_source" :
  [
  "rcmd_cpy_cd",
  "cpy_cd",
  "toc_tp",
  "crg_org_cd_re"
    ]

}


GET sv_channel_dic_report/_search
{
  "query": {
    "match": {
      "channel": "t1"
    }
  },
  "size": 200
}


GET dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "pcd_gubun": {
      "terms": {
        "field": "toc_tp.keyword",
        "size": 10,
        "missing": ""
      },
      "aggs": {
        "cpycd": {
          "terms": {
            "field": "cpy_cd.keyword",
            "size": 10
          }
        }
      }
    }
  }
}
GET _cat/indices/sv_channel_dic*

GET sv_user_dic_report/_search
{
  "query": {
    "match": {
      "word": "불편"
    }
  }
}

GET sv_channel_dic_report/_search
{
  "query": {
    "match": {
      "word": "불편"
    }
  }
}



GET sv_channel_dic_report/_search
{
  "size": 0
  , "aggs": {
    "ch": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}

GET sv_channel_dic_report/_search
{
  "query": {
    "match": {
      "channel": "t1"
    }
  },
  "size": 200
  ,"_source": 
  [
  "word"  
    ]
}


GET sv_channel_dic_report/_search
{
  "query": {
    "match": {
      "word": "불편"
    }
  }
}

GET sv_user_dic_report/_search

{
  "query": {
    "match": {
      "ref_word": "첨부"
    }
  }
}

{
  "query": {
    "match": {
      "word": "48차"
    }
  }
}

GET sv_channel_dic_report/_search
{
  "size": 20
  , "aggs": {
    "cha": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}


GET testdm_index_gug_2019/_search
{
  "_source": "aggr_*"
}

GET testdm_index_rqr/_search
{
  "size": 200
}

GET dm_index_rqr/_search
{
  "size": 0
  , "aggs": {
    "rcmd": {
      "terms": {
        "field": "rcmd_cpy_cd.keyword",
        "size": 10,
        "missing": ""
      }
    }
  }
}


GET dm_index_rqr/_search
{
  "size": 20
  , "query": {
    "range": {
      "display_dt": {
        "lte": "2016-12-01 00:00:00"
      }
    }
  },
  "_source": 
  [
    "crg_org_cd_re"
    ]
}

GET dm_index_rqr/_search
{
  "query": {
    "match": {
      "now_dept_cd_nm": "행복민원과"
    }
  },
  "size": 100,
  "_source": [
    "now_dept*",
    "crg_org_cd*",
    "rcmd_cpy_cd"
  ],
  "aggs": {
    "rcmd": {
      "terms": {
        "field": "rcmd_cpy_cd.keyword",
        "size": 100
      }
    }
  }
}




GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-01 00:00:00",
              "lte": "2019-11-26 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "smg"
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET sv_channel_dic_test/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "gug"
          }
        }
      ]
    }
  },
  "size": 2000,
  "_source": [
    "word",
    "end_dt"
  ]
}



GET sv_user_dic/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "type.keyword": {
              "value": "synonymword"
            }
          }
        },
        {
          "term": {
            "is_synonym.keyword": {
              "value": "N"
            }
          }
        }
      ]
    }
  },
  "size": 200
  , "_source": 
  [
    "word"
    ]
}
GET sv_user_dic_test/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "match": {
                  "word": "비합법"
                }
              }
            ]
          }
        },
        {
          "term": {
            "ref_word.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  }
}

GET sv_channel_dic_test/_search
{
  "size": 550
}
GET sv_user_dic_test/_search
{
  "query": {
    "match": {
      "ref_word": "소요"
    }
  }
}

GET sv_user_dic_test/_search


GET sv_user_dic_test/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "match": {
                  "word": "구비서면"
                }
              }
            ]
          }
        },
        {
          "term": {
            "ref_word.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  }
}

GET _cat/indices/dm_index_*
GET dm_index_cll_2019_test/_search

GET dm_index_cll_2019/_search
{
  "_source": 
  [
    "collection_dt", 
    "deal_info",
    "rg_dt"
    ],
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "size": 500
}


GET sv_user_dic_test/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "match": {
                  "word": "비합법"
                }
              }
            ]
          }
        }
      ]
    }
  }
}

PUT sv_user_dic_test
{
  "mappings" : {
      "doc" : {
        "properties" : {
          "channel" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 256
              }
            }
          },
          "id" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 512
              }
            }
          },
          "is_synonym" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 16
              }
            }
          },
          "ref_word" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 128
              }
            }
          },
          "save_dt" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 64
              }
            }
          },
          "type" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 32
              }
            }
          },
          "word" : {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword",
                "ignore_above" : 128
              }
            }
          }
        }
      }
    }
}

{
  "query": {
    "term": {
      "ref_word": "태스트"
    }
  }
}

POST sv_user_dic/_delete_by_query
{
  "query": {
    "term": {
      "ref_word": {
        "value": "태스트"
      }
    }
  }
}

GET sv_user_dic/_search
{
  "size": 900
}


GET sv_user_dic/_search
{
  "query": {
    "match": {
      "type": "stopword"
    }
  }
}


GET sv_user_dic/doc/%EC%B0%A8%EB%9F%89%EB%B2%88%ED%98%B8

GET sv_user_dic/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "id.keyword": {
              "value": "%EB%8C%80%EA%B5%AC%EA%B4%91%EC%97%AD%EC%8B%9C"
            }
          }
        },
        {
          "term": {
            "type.keyword": {
              "value": "stopword"
            }
          }
        }
      ]
    }
  }
}




GET ref_code_mapping/_search
{
  "aggs": {
    "dep": {
      "terms": {
        "field": "code_depth.keyword",
        "size": 10
      }
    }
  }
}

GET ref_old_code_mapping/_search

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "gug"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET _cat/indices/work*


GET dm_index_rqr/_search
{
  "query": {
    "simple_query_string": {
      "query": "행복민원과 음식물",
      "fields": [
        "now_dept_cd_nm",
        "ttl"
        ],
        "default_operator": "OR"
    }
  },
  "_source": 
  [
    "now_dept_cd_nm",
        "ttl"
    ],
    "size": 2000
  
  
}


GET dm_index_rqr/_search
{
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ]
}
GET dm_index_cll_2019/_search

GET dm_index_smg/_search

GET sv_user_dic/_search
{
  "query": {
    "match": {
      "word": "녹물제"
    }
  }
}

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2016-05-01 00:00:00",
        "lte": "2019-09-01 00:00:00"
      }
    }
  },
  "aggs": {
    "mm": {
      "terms": {
        "field": "aggr_mm.keyword",
        "size": 20
      },
      "aggs": {
        "yr": {
          "date_histogram": {
            "field": "display_dt",
            "interval": "year"
          },
          "aggs": {
            "ch": {
              "terms": {
                "field": "channel.keyword",
                "size": 13,
                "order": {
                  "_term": "asc"
                }
              }
            }
          }
        }
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-08-01 00:00:00",
        "lte": "2019-09-01 00:00:00"
      }
    }
  },
  "aggs": {
    "dow": {
      "terms": {
        "field": "day_of_week.keyword",
        "size": 10
      },
      "aggs": {
        "hh": {
          "terms": {
            "field": "aggr_hh.keyword",
            "size": 100,
            "order": {
              "_term": "asc"
            }
          }
        }
      }
    }
  }
}



GET sv_user_dic/_mapping

GET sv_channel_dic/_search
{
  "query": {
    "match_all": {}
  }
}

PUT sv_channel_dic
{
  "mappings": {
    "doc": {
      "properties": {
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "channel": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 16
            }
          }
        },
        "save_dt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "word": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        }
      }
    }
  }
}




GET dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "tpcdti": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 10
      }
    }
  }
}

GET _cat/indices/test_v4_dm_index_rqr

GET dm_index_cll_2019/_search
{
  "_source": 
  [
    "aggr_yyyymm",
    "aggr_hh"
    ],
    "aggs": {
      "hh": {
        "terms": {
          "field": "aggr_hh.keyword",
          "size": 30,
          "order": {
            "_term": "asc"
          }
        }
      }
    }
}
POST _reindex
{
  "source": {
    "index": "tempback_dm_index_gug_2019"
  },
  "dest": {
    "index": "dev_index_gug2"
  }
}
POST _reindex
{
  "source": {
    "index": "dm_index_gug_2019",
    "query": {
      "bool": {
        "must": [
          {
            "range": {
              "display_dt": {
                "gte": "2019-01-01 00:00:00",
                "lt": "2019-05-01 00:00:00"
              }
            }
          }
        ]
      }
    }
  },
  "dest": {
    "index": "test_v5_dm_index_gug"
  }
}

GET dm_index_gug_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-01 00:00:00",
        "lt": "2019-05-01 00:00:00"
      }
    }
  }
}
GET dm_index_gug_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-06-01 00:00:00",
        "lt": "2019-12-01 00:00:00"
      }
    }
  }
}


GET dev_index_gug_05/_search



GET dev_index_gug_05/_count

GET dev_index_gug_05/_search
{
  "_source": [
    "now_tp_cd2",
    "display_dt",
    "indexno",
    "cnts"
  ],
  "aggs": {
    "tp": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 200
      }
    }
  }
}
GET dm_index_gug_2019/_search


GET dev_index_gug/_search
{
  "size": 0
  , "aggs": {
    "tp": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 100
      }
    }
  }
}



GET dm_index_gug_2019/_search
{
  "query": {
    "term": {
      "sn": {
        "value": "12525894"
      }
    }
  }
}


GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-01-01 00:00:00",
              "lte": "2019-08-31 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "cll"
          }
        },
        {
          "nested": {
            "path": "keyword",
            "query": {
              "term": {
                "keyword.word": {
                  "value": "수성구"
                }
              }
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "top_keyword": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 100
          }
        }
      }
    }
  }
}

GET work_dm_index_gug_2019/_search
{
  "size": 1,
  "aggs": {
    "zipg": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 100
      }
    }
  }
  
}

GET dm_index_gug_2019/_search
{
  "query": {
    "term": {
      "zip_adr_g": {
        "value": "중구"
      }
    }
  }
  
}

GET sv_ex_issue/_search
{
  "query": {
    "term": {
      "id.keyword": {
        "value": "freq_001_rqr_T-R-20190902-000004"
      }
    }
  }
}



GET dm_index_rqr/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  }
  , "size": 200
  , "_source": 
  [
    "ttl",
    "cnts",
    "now_tp_cd2_nm"
    ]
  
}
GET dm_index_cll_2019/_search
{
  "_source": "category_ti"
}

GET ref_code_mapping/_search

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "Invalid date",
              "lte": "Invalid date"
            }
          }
        },
        {
          "match": {
            "channel": "gug"
          }
        },
        {
          "match": {
            "zip_adr_g": ""
          }
        }
      ]
    }
  },
  "aggs": {
    "tp_aggs": {
      "terms": {
        "field": "now_tp_cd2_nm.keyword",
        "size": 300,
        "missing": ""
      }
    },
    "dept_aggs": {
      "terms": {
        "field": "now_dept_nm.keyword",
        "size": 300,
        "missing": ""
      }
    },
    "top_keyword": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "bool": {
            "should": [
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_T-R-20190902-000004"
                  }
                }
              },
              {
                "term": {
                  "indexno.keyword": {
                    "value": "rqr_Y-R-20161018-000006"
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "size": 2,
  "_source": [
    "indexno",
    "ttl",
    "channel"
  ]
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "bool": {
                  "should": [
                    {
                      "term": {
                        "indexno.keyword": {
                          "value": "rqr_P-R-20191113-000013"
                        }
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "size": 2000,
  "_source": 
  [
    "indexno",
    "ttl",
    "channel"
    ]
}






GET dm_index_cll_2019/_mapping


GET work_dm_index_gug_2019/_search


GET dm_index_cll_2018/_search
{
  "size": 200, 
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "rg_dt", 
    "call_sub_channel"
    ]
}
GET dm_index_rqr/_search
{
  "size": 10,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-12 00:00:00",
              "lte": "2019-11-12 23:59:59"
            }
          }
        },
        {
          "match": {
            "zip_adr_g": "달서구"
          }
        }
      ]
    }
  },
  "_source": [
    "prc_stt_cd", 
    "sspc_rqr_cd",
    "cnl_cd",
    "acpt_no",
    "zip_adr_d",
    "now_tp_cd2_nm"
  ],
  "aggs": {
    "zipd": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 10
      }
    }
  }
}


GET dm_index_*/_search
{
  "size": 0, 
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "gug"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-01-01 00:00:00",
              "lt": "2019-04-01 00:00:00"
            }
          }
        },
        {
          "nested": {
            "path": "keyword",
            "query": {
              "term": {
                "keyword.word": {
                  "value": "달서구"
                }
              }
            }
          }
        }
      ]
    }
  },
  "_source": "keyword",
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 11
          }
        }
      }
    }
  }
}


GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-11-12 00:00:00",
        "lte": "2019-11-13 00:00:00"
      }
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "acpt_dt",
    "rg_dt",
    "display_dt",
    "now_tp_cd2"
  ]
}

GET dm_index_smg/_search
{
  "size": 0,
  "aggs": {
    "dcsyn": {
      "terms": {
        "field": "dcs_yn.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index_gug*/_search
{
  "_source": 
  [
    "display_dt",
    "acpt_dt",
    "rg_dt"
    ],
    "sort": [
      {
        "collection_dt": {
          "order": "desc"
        }
      }
    ]
}


GET test_v4_dm_index_smg/_search
{
  "_source": [
    "indexno",
    "tp_cd_ti",
    "rqs_dt",
    "improve_count"
  ],
  "aggs": {
    "improve": {
      "terms": {
        "field": "improve_count.keyword",
        "size": 10
      }
    }
  }
}

GET test_v4_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "rg_dt": {
              "gte": "2019-01-01 00:00:00",
              "lt": "2019-11-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "tp_cd_ti",
    "rg_dt",
    "improve_count"
  ],
  "aggs": {
    "improve": {
      "terms": {
        "field": "improve_count.keyword",
        "size": 10
      }
    }
  }
}

GET test_v4_dm_index_rqr/_search

GET dm_index_cll_*/_search
{
  "size": 0
  , "aggs": {
    "CNL_CD": {
      "terms": {
        "field": "cnl_cd.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "cnl_cd": {
      "terms": {
        "field": "cnl_cd.keyword",
        "size": 10
      }
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-11 00:00:00",
              "lte": "2019-11-11 15:09:00"
            }
          }
        }
      ]
    }
  },
  "_source": 
  [
    "zip_adr_g"
    ],
    "size": 200
  
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-11-11 13:00:00",
              "lte": "2019-11-11 15:09:00"
            }
          }
        }
      ]
    }
  },
  "size": 120,
  "aggs": {
    "region_aggs": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 100,
        "missing": "기타"
      }
    }
  },
  "_source": 
  [
  "tp_cd_ti"  
    ]
  
}


GET dm_index_cll_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-01 00:00:00",
              "lte": "2019-10-21 00:00:00"
            }
          }
        },
        {
          "exists": {
            "field": "ho_cnvrs_tno"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "ho_cnvrs_tno.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "aggs": {
    "crgcd": {
      "terms": {
        "field": "crg_org_cd.keyword",
        "size": 10
      }
    }
  }
}

GET test_v3_dm_index_rqr/_mapping

GET dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "cnlcd": {
      "terms": {
        "field": "cnl_cd.keyword",
        "size": 100
      }
    },
    "sspccd":{
      "terms": {
        "field": "sspc_rqr_cd.keyword",
        "size": 100
      }
    }
  }
}

GET test_v4_dm_index_rqr/_mapping

POST _reindex
{
  "source": {
    "index": "dm_index_rqr"
  },
  "dest": {
    "index": "test_v4_dm_index_rqr"
  }
}



GET sv_keyword/_search
GET sv_user_dic/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "match": {
            "word": "과표"
          }
        },
        {
          "match": {
            "ref_word": "과표"
          }
        }
      ]
    }
  }
}

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "gug"
          }
        },
        {
          "range": {
            "rg_dt": {
              "gte": "2019-01-01 00:00:00",
              "lte": "2019-03-31 23:59:59"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 300
          }
        }
      }
    }
  }
}


GET sv_user_dic/_search
{
  "size": 9999,
  "_source": [
    "word",
    "type",
    "ref_word",
    "is_synonym"
  ]
}

GET sv_user_dic/_search
{
  "size": 5000,
  "query": {
    "match": {
      "type": "stopword"
    }
  }, 
  "aggs": {
    "typebd": {
      "terms": {
        "field": "type.keyword",
        "size": 10
      }
    }
  }
}
GET sv_user_dic/_search
{
  "query": {
    "match": {
      "is_synonym": "Y"
    }
  }
}
GET sv_user_dic/_search
{
  "query": {
    "match": {
      "ref_word": "과표"
    }
  }
}


GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2018-01-01 00:00:00",
              "lte": "2018-12-31 23:59:59"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET test_v4_dm_index_rqr/_search
{
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "size": 50, 
  "_source": [
    "acpt_no",
    "better_yn"
  ]
}

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-10-31 23:59:59"
      }
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}


GET dm_index_*/_search
{
  "size": 1,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "range": {
            "rg_dt": {
              "gte": "2019-11-01 00:00:00",
              "lte": "2019-11-01 23:59:59"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 200, 
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "dud_position_x"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "dud_position_x.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  }, 
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "ttl", 
    "cnts", 
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "dud_position_x",
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "sct_kl_tp_cd3_re"
    ]
  
}


GET dm_index_*/_search
{
  "query": {
    "match": {
      "channel": "rqr cll smg"
    }
  },
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ], 
  "_source": 
  [
    "collection_dt",
    "channel",
    "tp_cd_ti",
    "keyword"
    ]
}

GET test_v4_dm_index_rqr/_search
{
  "size": 5000, 
  "aggs": {
    "sspc": {
      "terms": {
        "field": "sspc_rqr_cd.keyword",
        "size": 10
      }
    }
  }
}

GET dm_index_gug_2019/_search

GET _cat/indices/test_sv_user_dic

GET test_sv_user_dic/_search

GET sv_user_dic/_search
{
  "aggs": {
    "type": {
      "terms": {
        "field": "type.keyword",
        "size": 10
      }
    }
  }
}

GET sv_user_dic/_search
{
  "query": {
    "match": {
      "type": "stopword"
    }
  }
}


GET test_v3_dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd2": {
        "value": "E009003"
      }
    }
  }
}
GET test_v3_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "now_tp_cd2.keyword": {
              "value": ""
            }
          }
        },
        {
          "range": {
            "rg_dt": {
              "gte": "2019-09-01 00:00:00",
              "lt": "2019-11-01 00:00:00"
            }
          }
        }
      ]
    }
  }
}



GET test_v3_dm_index_rqr/_search
{
  "size": 10, 
  "aggs": {
    "nowcd2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}

GET ref_code_mapping/_search
{
  "size": 500
}


GET test_v4_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "range": {
            "rg_dt": {
              "gte": "2018-01-01 00:00:00",
              "lt": "2019-01-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "sspc_rqr_cd": "01"
          }
        }
      ]
    }
  },

  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "better_yn",
    "sspc_rqr_cd"
  ],
  "aggs": {
    "better": {
      "terms": {
        "field": "better_yn.keyword",
        "size": 10
      }
    }
  }
}

POST test_v4_dm_index_rqr/_delete_by_query
{
  "query": {
    "match_all": {}
  }
}


GET test_v4_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "acpt_no"
          }
        }
      ]
    }
  },
  "_source": [
    "acpt_no"
  ]
}


GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "interval": "w"
          }
        },
        {
          "match": {
            "gubun": "hot"
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "target_date_str.keyword": {
        "order": "asc"
      }
    }
  ]
}

GET sv_user_dic/_search
{
  "query": {
    "term": {
      "type": {
        "value": "synonymword"
      }
    }
  },
  "_source": 
  [
    "word",
    "ref_word",
    "is_synonym"
    ]
  
}


GET sv_user_dic/_search
{
  "query": {
    "match": {
      "ref_word": "정류장"
    }
  }
}


POST sv_user_dic/doc
{
  "word":"충전구역",
  "type":"synonymword",
  "save_dt_str" : "20191101",
  "is_synonym" : "",
  "ref_word" : ""
}
POST sv_user_dic/doc
{
  "word":"전기차충전구역",
  "type":"synonymword",
  "save_dt_str" : "20191101",
  "is_synonym" : "Y",
  "ref_word" : "충전구역"
}



GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "rqr_no.keyword": {
        "value": "Y-R-20170804-000018"
      }
    }
  }
}

GET dm_index_gug_2019/_search
{
  "query": {
    "term": {
      "crawl_id": {
        "value": "12008990"
      }
    }
  }
}

GET dm_index_gug_2019/_search
{
  "size": 0
  , "query": {
    "range": {
      "acpt_dt": {
        "gte": "2019-05-01 00:00:00",
        "lt": "2019-06-01 00:00:00"
      }
    }
  }
  , "aggs": {
    "cpy_bd": {
      "terms": {
        "field": "cpy_cd.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "acpt_dt": {
              "gte": "2019-05-01 00:00:00",
              "lt": "2019-06-01 00:00:00"
            }
          }
        },
        {
          "term": {
            "cpy_cd.keyword": {
              "value": "3410000"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "sn",
    "acpt_dt",
    "ttl",
    "cnts",
    "prc_dep_nm",
    "keyword"
  ]
}

GET dm_index_gug_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "acpt_dt": {
              "gte": "2019-05-01 00:00:00",
              "lt": "2019-06-01 00:00:00"
            }
          }
        },
        {
          "term": {
            "cpy_cd.keyword": {
              "value": "3410000"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "sn",
    "acpt_dt",
    "ttl",
    "cnts",
    "keyword",
    "*"
  ]
}

GET dm_index_gug_2019/_search
{
  "size": 1, 
  "query": {
    "range": {
      "acpt_dt": {
        "gte": "2019-05-01 00:00:00",
        "lt": "2019-06-01 00:00:00"
      }
    }
  }, 
  "aggs": {
    "cpy_bd": {
      "terms": {
        "field": "cpy_cd.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index_rqr/_mapping


GET test_v3_dm_index_rqr/_search

{
  "size": 0,
  "query": {
    "range": {
      "rg_dt": {
        "lt": "2019-09-01 00:00:00"
      }
    }
  }, 
  "aggs": {
    "nowtp2_bd": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}
GET test_v3_dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-01 00:00:00"
      }
    }
  },
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "collection_dt",
    "now_tp_cd2",
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re"
    ]
}

POST test_v3_dm_index_rqr/_update_by_query
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "sct_kl_tp_cd2_re.keyword": {
              "value": ""
            }
          }
        },
        {
          "term": {
            "sct_kl_tp_cd1_re.keyword": {
              "value": "D010"
            }
          }
        }
      ]
    }
  },
  "script" : "ctx._source.now_tp_cd2 = \"E011003\";"
}

GET test_v3_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "now_tp_cd2.keyword": {
              "value": ""
            }
          }
        },
        {
          "range": {
            "rg_dt": {
              "gte": "2019-09-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "sct_kl_tp_cd*",
    "now_tp_cd2"
  ]
}

GET test_v3_dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "sct_kl_tp_cd2_re.keyword": {
              "value": ""
            }
          }
        },
        {
          "term": {
            "sct_kl_tp_cd1_re.keyword": {
              "value": "D010"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "sct_kl_tp_cd*",
    "now_tp_cd2"
  ],
  "aggs": {
    "tp_bd": {
      "date_histogram": {
        "field": "rg_dt",
        "interval": "1M"
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "sct_kl_tp_cd2_re.keyword": {
              "value": ""
            }
          }
        },
        {
          "term": {
            "sct_kl_tp_cd1_re.keyword": {
              "value": "D010"
            }
          }
        }
      ]
    }
  },
  "_source": "sct_kl_tp_cd*",
  "aggs": {
    "tp_bd": {
      "date_histogram": {
        "field": "rg_dt",
        "interval": "1M"
      }
    }
  }
}



{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "rg_dt": {
              "lt": "2019-09-01 00:00:00"
            }
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-01 00:00:00"
      }
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

GET dm_index_smg/_search
{
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

GET dm_index_gug_2018/_search

GET test_v3_dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "nowtpcd2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}
GET dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "nowtpcd2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}

GET test_v3_dm_index_rqr/_search
{
  "size": 0,
  "aggs": {
    "nowtpcd2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 210
      }
    }
  }
}

GET test_v3_dm_index_rqr/_search
{
  "query": {
    "term": {
      "rqr_no.keyword": {
        "value": "Y-R-20170109-000029"
      }
    }
  },
  "_source": "now_tp_cd*"
}

GET dm_index_rqr/_search
{
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "indexno",
    "acpt_dt",
    "rg_dt", 
    "@timestamp",
    "collection_dt"
  ]
}
GET dm_index_cll_2019/_mapping

GET dm_index_cll_2019/_search
{
  "query": {
    "match": {
      "FIELD": "TEXT"
    }
  }  
}


GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "ho_cnvrs_tno"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "ho_cnvrs_tno.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  }
}


GET dm_index_cll_2019/_search
{
  "size": 500, 
  "query": {
    "bool": {
      "must_not": [
        {
          "term": {
            "ho_cnvrs_tno.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  },
  "_source": 
  [
    "indexno",
    "ho_cnvrs_tno",
    "trans_dt"
    ]
}
GET dm_index_cll_2018/_search
{
  "size": 10,
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "trans_dt"
          }
        },
        {
          "bool": {
            "must": [
              {
                "term": {
                  "ho_cnvrs_tno.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source":
  [
    "indexno",
    "ho_cnvrs_tno",
    "trans_dt"
    ]
}


1233
298679

GET dm_index_cll_2019/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-01 00:00:00",
              "lte": "2019-10-21 00:00:00"
            }
          }
        },
        {
          "exists": {
            "field": "trans_dt"
          }
        }
      ]
    }
  }
}
GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-01 00:00:00",
              "lte": "2019-10-21 00:00:00"
            }
          }
        },
        {
          "exists": {
            "field": "ho_cnvrs_tno"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "ho_cnvrs_tno.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  }
}
GET dm_index_cll_*/_count
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-10-01 00:00:00",
        "lte": "2019-10-21 00:00:00"
      }
    }
  }
}




GET dm_index_cll_2019/_search

GET dm_index_cll_2019/_search
{
  "size": 5000
  , "_source": 
  [
    "trans_dt"
    ]
    
}



GET dm_index_rqr/_search

GET dm_index_smg/_search
{
  "query": {
    "range": {
      "@timestamp": {
        "gte": "2019-10-03T04:25:46.506Z",
        "lte": "2019-11-03T04:25:46.506Z"
      }
    }
  }
}
GET dm_index_smg/_search
{
  "query": {
    "range": {
      "@timestamp": {
        "gte": "2019-10-03T04:25:46.506Z",
        "lte": "2019-11-03T04:25:46.506Z"
      }
    }
  }
}
44961
 1332
46293 

GET dm_index_rqr/_search

{
 "query": {
   "bool": {
     "must": [
       {
         "exists": {
           "field": "tp_cd_ti"
         }
       }
     ]
   }
 }
}
GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "rqr_no.keyword": {
        "value": "N-R-20190928-000009"
      }
    }
  }
  , "_source": 
  [
    "now_tp*",
    "sct_kl_tp_cd*",
    "cnts"
    ]
}

GET dm_index_gug_*/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-25 00:00:00",
        "lte": "2019-10-30 00:00:00"
      }
    }
  }, 
  "size": 0, 
  "aggs": {
    "date_histo": {
      "date_histogram": {
        "field": "rg_dt",
        "interval": "1d"
      }
    }
  }
}
GET _cat/indices/dm_index_gug*

GET dm_index_cll_2019/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "cll"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-10-01 00:00:00",
        "lte": "2019-10-31 00:00:00"
      }
    }
  }, 
  "size": 2000
  , "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "rg_dt",
    "collection_dt"
    ]
 }



{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "gug"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "tp_cd_ti",
    "collection_dt",
    "@timestamp"
  ]
}


GET dm_index_rqr/_search
{
  "size": 500,
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": [
    "collection_dt",
    "now_tp_cd2",
    "category_ti"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "rqr"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}



GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must_not": [
              {
                "exists": {
                  "field": "tp_cd_ti"
                }
              }
            ]
          }
        }
      ]
    }
  }
}

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "@timestamp": {
              "gte": "1970-01-01T04:25:46.506Z",
              "lte": "2019-11-03T04:25:46.506Z"
            }
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "exists": {
                  "field": "tp_cd_ti"
                }
              }
            ]
          }
        }
      ]
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "desc"
      }
    }
  ]
}

GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "must": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        },
        {
          "exists": {
            "field": "tp_cd_ti"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "desc"
      }
    }
  ]
  , "_source": "tp_cd_ti"
}



GET dm_index_smg/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "term": {
                  "tp_cd_ti.keyword": {
                    "value": ""
                  }
                }
              },
              {
                "bool": {
                  "must_not": [
                    {
                      "exists": {
                        "field": "tp_cd_ti"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "term": {
            "channel": {
              "value": "smg"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}

GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-08-01 00:00:00",
        "lte": "2019-08-02 00:00:00"
      }
    }
  },
  "size": 200, 
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ], 
  "_source": [
    "rqr_no",
    "ttl",
    "cnts",
    "collection_dt"
  ]
}

GET dm_index_cll_2019/_search
{
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "indexno", 
    "rg_dt"
    ]
  
}

GET _cat/indices/dm_index_smg

GET dm_index_smg/_search
{
  "sort": [
    {
      "acpt_dt": {
        "order": "desc"
      }
    }
  ]
}

GET dm_index*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "acpt_tp": ""
          }
        }
      ]
    }
  }
}


GET dm_index*/_search

GET dm_index*/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  }, 
  "aggs": {
    "tpcd1_bd": {
      "terms": {
        "field": "sct_kl_tp_cd1_re.keyword",
        "size": 10
      }
    }
  }, 
  "_source"
  : [
    "acpt_tp",
    ""
    ]
}

GET dm_mw/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  }, 
  "aggs": {
    "tpcd1_bd": {
      "terms": {
        "field": "sct_kl_tp_cd1_re.keyword",
        "size": 10
      }
    },
    "nowtp_bd":{
      "terms": {
        "field": "now_tp_cd1.keyword",
        "size": 10
      }
    }
  }, 
  
  "_source"
  : [
    "acpt_tp"
 
    ]
}

GET dm_index*/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  }, 
  "aggs": {
    "tpcd1_bd": {
      "terms": {
        "field": "sct_kl_tp_cd1_re.keyword",
        "size": 10
      }
    }
  }, 
  "_source"
  : [
    "acpt_tp"
 
    ]
}

GET dm_index_rqr/_search
{
}

GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "now_tp_cd1.keyword": {
              "value": ""
            }
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "sct_kl_tp_cd1_re.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "sort": [
    {
      "acpt_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "sct_kl_tp*",
    "now_tp*"
    ]
}

GET dm_qa/_search
{
  
}

GET test_result_cll_top1/_search
{
  "size": 0
  , "aggs": {
    "match_bd": {
      "terms": {
        "field": "is_match.keyword",
        "size": 10
      }
    }
  }
}


GET ref_code_mapping/_search
{
  "query": {
    "term": {
      "code.keyword": {
        "value": "E005001"
      }
    }
  }
}

POST _reindex
{
  "source": {
    "index": "dm_index_cll_2019"
  },
  "dest": {
    "index": "test_dm_index_cll"
  }
}

GET dm_index_cll_2019/_count

GET test_dm_index_cll/_search

GET dm_qa/_mapping

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "target_date_str": "TEXT"
          }
        }
      ]
    }
  }
}


GET dm_index_smg/_search
{
  "query": {
    "match": {
      "FIELD": "TEXT"
    }
  }
}

GET dm_qa/_search
{
  "size": 300, 
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "use_yn": "Y"
          }
        },
        {
          "match": {
            "del_yn": "N"
          }
        },
        {
          "match": {
            "faq_applc_yn": "Y"
          }
        }
      ]
    }
  },
  "_source": 
  [
    "indexno", 
    "ttl",
    "category_ti",
    "keyword"
    ]
}


GET sv_issue_word/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "type.keyword": {
              "value": "subject"
            }
          }
        },
        {
          "term": {
            "use_yn.keyword": {
              "value": "Y"
            }
          }
        }
      ]
    }
  }, 
  "_source": 
  [
    "issue_id",
    "word"
    ]
}




GET sv_user_dic/_search
{
  "_source": "word"
  , "size": 90
}

GET dm_index_rqr/_search

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20151206-000002"
      }
    }
  },
  "_source": 
  [
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "now_tp_cd2",
    "keyword",
    "category_ti",
    "tp_cd_ti*",
    "ttl",
    "@timestamp",
    "collection_dt"
    ]
}
GET _cat/indices/backup*


GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "match": {
            "gubun": "hot"
          }
        }
      ]
    }
  }
}
GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "match": {
            "interval": "w"
          }
        }
      ]
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "cll"
          }
        },
        {
          "match": {
            "gubun": "hot"
          }
        },
        {
          "match": {
            "target_date_str": "20190805"
          }
        }
      ]
    }
  }
}
GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "indexno.keyword": {
              "value": "rqr_T-R-20190930-000036"
            }
          }
        },
        {
          "term": {
            "indexno.keyword": {
              "value": "rqr_P-R-20190910-000045"
            }
          }
        }
      ]
    }
  }
}


GET dm_index_rqr/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "rg_dt": {
              "gte": "2019-08-05 00:00:00",
              "lte": "2019-08-12 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
      "channel": "gug"
    }
        },
        {
          "match": {
            "gubun": "top"
          }
        }
      ]
    }
  }
}
PUT sv_ex_issue
{
  "mappings": {
    "doc": {
      "properties": {
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        },
        "issue_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        },
        "mdfy_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        }
      }
    }
  }
}

GET sv_ex_issue/_search

GET sv_ex_issue/_search
{
  "size": 2000, 
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "issue_id.keyword": {
              "value": "freq_001"
            }
          }
        }
      ]
    }
  },
  "_source": 
  [
    "indexno"
    ]
}

GET dm_index_*/_search
{
  
}

GET sv_ex_issue/_search

POST sv_ex_issue/_delete_by_query
{
  "query": {
    "match_all": {}
  }
}

PUT sv_ex_issue/doc/freq_001_rqr_T-R-20190902-000004
{
  "id":"freq_001_rqr_T-R-20190902-000004",
  "issue_id":"freq_001",
  "indexno":"rqr_T-R-20190902-000004",
  "mdfy_dt":"2019-11-12 09:00:00",
  "channel":"rqr"
}

PUT sv_ex_issue/doc/freq_001_cll_3531389
{
  "id":"freq_001_cll_3531389",
  "issue_id":"freq_001",
  "indexno":"cll_3531389",
  "mdfy_dt":"2019-11-12 09:00:00",
  "channel":"cll"
}
PUT sv_ex_issue/doc/freq_001_rqr_Y-R-20161018-000006
{
  "id":"freq_001_rqr_Y-R-20161018-000006",
  "issue_id":"freq_001",
  "indexno":"rqr_Y-R-20161018-000006",
  "mdfy_dt":"2019-11-12 09:00:00",
  "channel":"rqr"
}


GET sv_ex_issue/_search

{
  "size": 2000,
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "issue_id.keyword": {
              "value": ""
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno"
  ]
}
GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "먼지"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "진동"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "악취"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "피해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "공해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "건설현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "균열"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "건설소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시멘트"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "물"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "통행불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시설물"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "안전"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "가림막"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "비산먼지"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-05-01 00:00:00",
              "lt": "2019-11-01 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        }
      ]
    }
  },
  "size": 2000,
  "_source": [
    "crawl_id",
    "display_dt",
    "ttl",
    "cnts",
    "channel",
    "keyword"
  ]
}
GET dm_index_*/_search
{"query":{"bool":{"must":[{"nested":{"path":"keyword","query":{"bool":{"should":[{"bool":{"must":[{"match":{"keyword.word":"녹물"}}]}},{"bool":{"must":[{"match":{"keyword.word":"냄새"}}]}},{"bool":{"must":[{"match":{"keyword.word":"물색깔"}}]}},{"bool":{"must":[{"match":{"keyword.word":"흐린물"}}]}},{"bool":{"must":[{"match":{"keyword.word":"수돗물"}}]}}]}}}},{"range":{"display_dt":{"gte":"2019-06-01 00:00:00","lt":"2019-12-01 23:59:59"}}},{"match":{"channel":"rqr smg"}},{"bool":{"must_not":[[{"term":{"indexno.keyword":{"value":"rqr_T-R-20190902-000004"}}},{"term":{"indexno.keyword":{"value":"cll_3531389"}}},{"term":{"indexno.keyword":{"value":"rqr_Y-R-20161018-000006"}}},{"term":{"indexno.keyword":{"value":"cll_3509528"}}},{"term":{"indexno.keyword":{"value":"cll_3700342"}}}]]}}]}},"_source":["crawl_id","display_dt","ttl","cnts","channel","keyword"]}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "녹물"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "냄새"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "물색깔"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "흐린물"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "수돗물"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-06-01 00:00:00",
              "lt": "2019-12-01 23:59:59"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "bool": {
            "must_not": [
              [
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "cll_3531389"
                    }
                  }
                },
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "rqr_Y-R-20161018-000006"
                    }
                  }
                },
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "cll_3509528"
                    }
                  }
                },
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "cll_3700342"
                    }
                  }
                }
              ]
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "crawl_id",
    "display_dt",
    "ttl",
    "cnts",
    "channel",
    "keyword"
  ]
}


GET dm_index_*/_search
{"query":{"bool":{"must":[{"nested":{"path":"keyword","query":{"bool":{"should":[{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"소음"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"먼지"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"진동"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"악취"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"피해"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"공해"}}]}},{"bool":{"must":[{"match":{"keyword.word":" 공사현장"}}]}},{"bool":{"must":[{"match":{"keyword.word":"건설현장"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사장"}},{"match":{"keyword.word":"불편"}}]}},{"bool":{"must":[{"match":{"keyword.word":"균열"}}]}},{"bool":{"must":[{"match":{"keyword.word":"공사소음"}}]}},{"bool":{"must":[{"match":{"keyword.word":"건설소음"}}]}},{"bool":{"must":[{"match":{"keyword.word":"시멘트"}},{"match":{"keyword.word":"물"}}]}},{"bool":{"must":[{"match":{"keyword.word":"통행불편"}}]}},{"bool":{"must":[{"match":{"keyword.word":"시설물"}},{"match":{"keyword.word":"안전"}}]}},{"bool":{"must":[{"match":{"keyword.word":"가림막"}}]}},{"bool":{"must":[{"match":{"keyword.word":"비산먼지"}}]}}]}}}},{"range":{"rqs_dt":{"gte":"2019-08-05 00:00:00","lt":"2019-08-12 00:00:00"}}}]}},"_source":["indexno","ttl","cnts","channel","keyword"]}


GET dm_index_*/_search
{
  "size": 2000,
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "먼지"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "진동"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "악취"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "피해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "공해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "건설현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "균열"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "건설소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시멘트"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "물"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "통행불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시설물"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "안전"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "가림막"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "비산먼지"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "channel",
    "keyword"
  ]
}



GET dm_index_cll*/_search
{
  "size": 50, 
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-08-04 00:00:00",
        "lt": "2019-08-05 00:00:00"
      }
    }
  },
  "_source": 
  [
    "ttl",
    "cnts",
    "keyword"
    ]
  
}



GET dm_index_*/_search
{
  
}

GET dm_index_rqr/_search
{
  "size": 10, 
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
      "path": "keyword",
      "query": {
        "match": {
          "keyword.word": "조망권"
        }
      }
    }
        },
        {
    "range": {
      "rg_dt": {
        "gte": "2019-08-17 00:00:00",
        "lte": "2019-08-17 23:59:59"
      }
    }      
        }
      ]
    }, 
    
    
  },
  "_source": "keyword", 
  "aggs": {
    "rg_bd": {
      "date_histogram": {
        "field": "rg_dt",
        "interval": "1d"
      }
    }
  }
}


GET _cat/indices/test_*
GET dm_index_cll*/_search
{
  "sort": [
    {
      "rg_dt": {
        "order": "desc"
      }
    }
  ]
}

GET test_update/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20151206-000002"
      }
    }
  },
  "_source": 
  [
    "sct_kl_tp_cd1_re",
    "sct_kl_tp_cd2_re",
    "now_tp_cd2",
    "keyword",
    "category_ti",
    "tp_cd_ti*",
    "ttl",
    "@timestamp",
    "collection_dt"
    ]
}


GET dm_index_smg*/_search
{
  "_source": 
  [
    "indexno",
    "position_x",
    "position_y"
    ],
    "size": 5000
}



GET dm_index*/_search
{
  "query": {
    "nested": {
      "path": "keyword",
      "query": {
        "match": {
          "keyword.word": "조망권"
        }
      }
    }
  },
  "_source": 
  [
    "keyword",
    "cnts",
    "ttl"
    ]
  
}

GET sv_user_dic/_search


GET sv_user_dic/_search
{
  "size": 0
  , "aggs": {
    "dt_bd": {
      "terms": {
        "field": "save_dt_str.keyword",
        "size": 10
      }
    }
  }
}
GET sv_user_dic/_search
{
  "query": {
    "match": {
      "word": "불법주차"
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "cll"
          }
        }
      ]
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "gubun": "top"
          }
        },
        {
          "match": {
            "channel": "all"
          }
        },
        {
          "match": {
            "target_date_str": "20190803"
          }
        }
      ]
    }
  }
}

GET sv_keyword/_search
{
  "size": 0
  , "aggs": {
    "ch_bd": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "gug"
          }
        },
        {
          "match": {
            "gubun": "hot"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "target_date_str.keyword": {
        "order": "desc"
      }
    }
  ]
}
GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "smg"
          }
        }
      ]
    }
  },
  "_source": 
  [
    "*_dt"
    ]
}

GET dm_index_*/_search
{
  "size": 0, 
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "smg rqr gug cll"
          }
        },
        {
          "range": {
            "rqs_dt": {
              "gte": "2019-07-31 00:00:00",
              "lt": "2019-08-31 00:00:00"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 2500
          }
        }
      }
    }
  }
}

GET sv_keyword/_search

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-07 00:00:00",
              "lt": "2019-08-08 00:00:00"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "gubun": "hot"
          }
        },
        {
          "match": {
            "target_date_str": "20190805"
          }
        },
        {
          "match": {
            "channel": "all"
          }
        }
      ]
    }
  }
}

GET sv_keyword/_search
{
  "size": 200,
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "gubun": {
              "value": "hot"
            }
          }
        },
        {
          "match": {
            "channel": "gug"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "target_date_str.keyword": {
        "order": "asc"
      }
    }
  ],
  "_source": [
    "target_date_str",
    "channel"
  ]
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "interval": "d"
          }
        },
        {
          "match": {
            "target_date_str": "20190802"
          }
        },
        {
          "match": {
            "gubun": "top"
          }
        }
      ]
    }
  }
}

GET sv_keyword/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "interval": "d"
          }
        },
        {
          "match": {
            "target_date_str": "20190802"
          }
        },
        {
          "match": {
            "gubun": "top"
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        }
      ]
    }
  }
}


GET dm_index_*/_search
{
  "size": 0, 
  "query": {
    "match": {
      "channel": "rqr"
    }
  },
  "aggs": {
    "adr_g_bd": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 100
      }
    }
  }
}



GET dm_index_rqr/_search

{
  "size": 0, 
  "aggs": {
    "org_cd": {
      "terms": {
        "field": "rcmd_cpy_cd.keyword",
        "size": 10
      }
    }
  }
}

GET ref_code_mapping/_search
{
  "query": {
    "term": {
      "code": {
        "value": "VALUE"
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": ""
      }
    }
  },
  "_source": 
  [
    "sct_*"
    ],
    "size": 2000
}

GET ref_old_code_mapping/_search

GET dm_index_rqr/_search
{
    "size": 0, 
  "aggs": {
    "g_bd": {
      "terms": {
        "field": "zip_adr_g.keyword",
        "size": 100
      }
    }
  }
}

{
			  "size" : 10000,
			  "query": {
			    "term": {
			      "now_tp_cd2.keyword": {
			        "value": "E009003"
			      }
			    }
			  },
			  "_source":
			  [
			    "crawl_id",
			    "acpt_dt",
			    "ttl",
			    "cnts",
			    "sct_kl_tp_cd1",
			    "sct_kl_tp_cd2",
				"sct_kl_tp_cd3",
			    "now_tp_cd1",
			    "now_tp_cd1_nm",
			    "now_tp_cd2",
			    "now_tp_cd2_nm",
			    "category_ti.category"
			    ]
			}

GET dm_index_rqr/_search
{
			  "size" : 300,
			  "query": {
			    "term": {
			      "now_tp_cd2.keyword": {
			        "value": "E009003"
			      }
			    }
			  },
			  "_source":
			  [
			    "crawl_id",
			    "acpt_dt", 
			    "ttl",
			    "cnts",
			    "sct_kl_tp_cd1", 
			    "sct_kl_tp_cd1_re", 
			    "sct_kl_tp_cd2", 
			    "sct_kl_tp_cd2_re", 
			    "now_tp_cd1", 
			    "now_tp_cd1_nm", 
			    "now_tp_cd2", 
			    "now_tp_cd2_nm",
			    "category_ti.category"
			    ]
			}

GET sv_user_dic/_search

PUT sv_user_dic
{
  "mappings": {
    "doc": {
      "properties": {
        "type": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "word": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        },
        "save_dt_str": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        }
      }
    }
  }
}

GET test_v4_dm_index_rqr/_search
{
  "_source": "indexno"
}

POST _reindex
{
  "source": {
    "index": "dm_index_rqr"
  },
  "dest": {
    "index": "test_v4_dm_index_rqr"
  }
}


PUT test_v4_dm_index_rqr/_mapping/doc
{
  "properties": {
    "improve_score": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword",
          "ignore_above": 32
        }
      }
    }
  }
}


GET sv_keyword/_mapping

GET _cat/indices/user*

PUT  user_dictionary/doc/1111
{
  "id":"test111",
  "word":"test1122",
  "type":"stop"
}

GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": "E009003"
      }
    }
  },
  "_source": 
  [
    "ttl",
    "cnts",
    "now_tp_cd2_nm"
    ]
}
GET dm_index_rqr/_search
{
  "size": 300, 
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": "E009003"
      }
    }
  },
  "_source": 
  [
    "indexno",
    "ttl",
    "cnts", 
    "now_dept_cd",
    "now_dept_cd_nm",
    "now_dept_cd_f_nm"
    ]
}
GET dm_index_rqr/_search
{
  "size": 0, 
  "aggs": {
    "dept_aggs": {
      "terms": {
        "field": "crg_org_cd.keyword",
        "size": 100
      }
    }
  }
}


GET dm_index_rqr/_search
{
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": "E009003"
      }
    }
  },
  "_source": 
  [
    "crg_org_cd",
    "now_dept_cd",
    "now_dept_cd_nm"
    ]
}

GET dm_index_rqr/_search
{
  "size": 0, 
  "aggs": {
    "tp-terms": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 100
      }
    }
  }
}

GET user_dictionary/_search


PUT user_dictionary
{
  "mappings": {
    "doc": {
      "properties": {
        "word": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "type": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        }
      }
    }
  }
}


GET sv_keyword/_search

{
  "size": 1,
  "query": {
    "term": {
      "gubun": {
        "value": "hot"
      }
    }
  }, 
  "aggs": {
    "gubun_bd": {
      "terms": {
        "field": "gubun.keyword",
        "size": 10
      }
    }
  }
}


GET dictionary
id : ㅌㅌㅌ
word : 대구
type : stop

GET sv_user_dic/_search



GET sv_keyword/_mapping



{
  "sort": [
    {
      "target_date_str.keyword": {
        "order": "asc"
      }
    }
  ],
  "_source": 
  [
    "target_date_str",
    "gubun",
    "metadata"
    ]
}

GET sv_keyword/_search
{
  "size": 0, 
  "aggs": {
    "gubun_aggr": {
      "terms": {
        "field": "gubun.keyword",
        "size": 10
      }
    }
  }
}

GET dm_index*/_search
{
  "size": 0, 
  "aggs": {
    "tp2_bundle": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 250
      }
    }
  }
}

GET test_dm_index_smg/_search

GET dm_index_rqr/_mapping

GET test_dm_index_gug/_search
{
  "size": 0, 
  "aggs": {
    "tp_cd_bundle": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 200
      }
    }
  }
}


GET dm_index_smg/_search
{
  "_source": [
    "indexno",
    "ttl",
    "cnts"
  ]
}


GET dm_index_rqr/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr"
          }
        },
        {
          "bool": {
            "must_not": [
              {
                "term": {
                  "now_tp_cd2.keyword": {
                    "value": ""
                  }
                }
              }
            ]
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "ttl",
    "cnts",
    "now_tp_cd2"
  ]
}

GET dm_index*/_search
{
  "size": 0, 
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-02-01 00:00:00",
              "lte": "2019-02-28 23:59:59"
            }
          }
        }
      ]
    }
  },
   "aggs": {
    "tp_bucket": {
      "terms": {
        "field": "now_tp_cd1.keyword",
        "size": 200
      }
    }
  }
}

GET dm_schedule/_search
{
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "size": 3000
}

GET dm_schedule/_search
{
  "query": {
    "range": {
      "collection_dt": {
        "gte": "2019-10-16T10:10:28",
        "lte": "2019-10-16T10:22:00",
        "time_zone": "+09:00"
      }
    }
  }
}

GET dm_index_smg/_search
{
  "size" : 500,
  "query": {
    "term": {
      "tp_cd_ti.keyword": {
        "value": "E009003"
      }
    }
  },
  "_source": 
  [
    "indexno",
    "ttl",
    "cnts",
    "tp_cd_ti", 
    "category_ti.category"
    ]
}

GET dm_index_gug*/_search
{
  "size": 0,
  "aggs": {
    "tp_bucket": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 200
      }
    }
  }
}

GET ref_code_mapping/_search
{
				query:{
					term:{
							code_depth:{
							value:2
						}
					}
				},
				_source: [
					"code",
					"code_nm"
				],
				size: 500
			}


GET _cat/indices/result_cll_2018*

GET dm_index_cll_2016/_search
{
  "size": 100,
  "_source": 
  [
    "now_tp*",
    "display_dt",
    "channel"
    ]
}
GET dm_index_smg/_search

GET dm_index_smg/_search
{
  "query": {
    "term": {
      "tp_cd_ti.keyword": {
        "value": "E002014"
      }
    }
  },
  "_source": 
  [
    "indexno",
    "tp_cd_ti",
    "ttl",
    "cnts"
    ],
    "size": 200
}

GET ref_code_mapping/_search
{
  "query": {
    "term": {
      "code_depth": {
        "value": "2"
      }
    }
  }
}

DELETE ref_code_mapping
GET ref_code_mapping/_mapping

GET dm_index_cll_2019/_search
{
}

GET dm_index_smg/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-01 00:00:00"
      }
    }
  },
  "_source": 
  [
    "ttl",
    "cnts",
    "now_tp_cd2",
    "tp_cd_ti_nm",
    "category_ti"
    ]
}


GET ref_code_mapping/_search
{
  "query": {
    "match": {
      "code": "E006005"
    }
  },
  "_source": 
  [
    "code_nm"  
    ]
  
}


GET dm_index_rqr/_search
{
  "size": 10,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-12-13 00:00:00",
              "lte": "2019-12-30 00:00:00"
            }
          }
        }
        
      ]
    }
  },
  "_source": 
  [
    "now_tp_cd2",
    "tp_cd_ti",
    "category_ti"
    ]
  
}

GET dm_index_cll_2019/_search
{
  "size": 0, 
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-12-17 00:00:00",
        "lte": "2019-12-18 00:00:00"
      }
    }
  }, 
    "aggs" : {
        "my-agg" : {
            "terms" : {
                "script": {
                  "inline": "doc['tp_cd_ti.keyword'].getValue() == doc['now_tp_cd2.keyword'].getValue()"
                }, 
                "size": 100, 
                "order" : { "_count" : "desc" }
            }
        }
    }
}

GET dm_index_gug_2019/_search
{
  "size": 0, 
    "aggs" : {
        "my-agg" : {
            "terms" : {
                "script": {
                  "inline": "doc['tp_cd_ti.keyword'].getValue().substring(0,4)"
                }, 
                "size": 100, 
                "order" : { "_count" : "desc" }
            }
        }
    }
}
GET my-index/_search
{
    "aggs" : {
        "my-agg" : {
            "terms" : {
                "script": {
                  "inline": "doc['PublicationDate.keyword'].getValue().substring(0,4)"
                }, 
                "size": 10, 
                "order" : { "_count" : "desc" }
            }
        }
    }
}


GET dm_index_smg/_search
{
  "_source": 
  [
    "crg_org_cd",
    "now_dept_cd"
    , "now_dept_cd_nm"
    ]
  
}

GET dm_index_cll_201*/_search
{
  "query": {
    "match": {
      "indexno": "cll_2176299"
    }
  },
  "size": 100,
  "_source": 
  [
    "now_tp*",
    "display_dt",
    "channel"
    ]
}



GET result_cll_2016_top2/_search
{
  "size": 0,
  "aggs": {
    "tp_aggs": {
      "terms": {
        "field": "is_match.keyword",
        "size": 10
      }
    }
  }
}




GET result_cll_top3/_search


GET dm_index_cll_2012/_search


GET dm_index_cll_2012/_search
{
  "size": 1,
  "sort": [
    {
      "display_dt": {
        "order": "asc"
      }
    }
  ], 
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}
GET dm_index_cll_2015/_search
{
  "size": 0,
  "aggs": {
    
        "max_keyword": {
          "terms": {
            "field": "tp_cd_ti.keyword",
            "size": 1000
          }
        }
    
  }
}

GET dm_index_cll*/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2018-05-01 00:00:00",
        "lt": "2018-09-01 00:00:00"
      }
    }
  },
  "size": 500000,
  "_source": [
    "indexno",
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "ttl",
    "cnts",
    "category_ti"
  ]
}

GET dm_mw/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2015-01-01 00:00:00",
              "lt": "2016-01-01 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "cll"
          }
        }
      ]
    }
  }
}
GET dm_index_cll_2018/_mapping

GET dm_mw/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "cll_3614736"
      }
    }
  }
}
GET dm_index_cll_2018/_search
{
  "size": 200,
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}

GET dm_index_cll_2018/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "cll_3615082"
      }
    }
  }
}


GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-08-05 00:00:00",
              "lt": "2019-08-20 00:00:00"
            }
          }
        },
        {
          "multi_match": {
            "query": "불법주차",
            "fields": [
              "ttl",
              "cnts"
            ]
          }
        }
      ]
    }
  },
  "_source": 
  [
    "indexno",
    "channel",
    "display_dt",
    "ttl",
    "cnts",
    "now_tp_*",
    "keyword"
    ]
}



GET ref_code_mapping/_search
{

  "query": {
    "term": {
      "new_code_2.keyword": {
        "value": "E001002"
      }
    }
  },
  "_source": "{field}"
}

GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-01 00:00:00",
        "lt": "2019-02-01 00:00:00"
      }
    }
  }, 
  "_source": 
  [
    "sn",
    "rg_dt", 
    "sct_kl_tp_cd2", 
    "now_tp_cd2",
    "now_tp_cd2_nm",
    "tp_cd_ti", 
    "cnts"
    ]
}

GET dv_

POST sv_keyword/_delete_by_query
{
  "query": {
    "match_all": {}
  }
}

GET sv_keyword/_search


{
  "size": 1, 
  "query": {
    "range": {
      "target_date_str": {
        "gte": "20190804",
        "lte": "20190808"
      }
    }
  }, 
  "_source": [
    "id",
    "target_date_str",
    "metadata"
    ]
}

GET dm_index*/_search
{
			  "size": 0,
			  "query": {
			    "bool": {
			      "must": [
			        {
			          "match": {
			            "channel": "rqr smg cll"
			          }
			        },
			        {
			          "range": {
			            "display_dt": {
			              "gte": "2019-05-01 00:00:00",
			              8주차(목)
			              
			              "lte": "2019-08-01 00:00:00"
			              20주차(금)
			              
			            }
			          }
			        },
			        {
			          "term": {
			            "day_of_week": {
			              "value": "목요일"
			            }
			          }
			        }
			      ]
			    }
			  },
			  "aggs": {
			    "date_histo":{
			      "date_histogram": {
			        "field": "display_dt",
			        "interval": "1d"
			      }
			    },
			    
			    "top_keyword": {
			      "nested": {
			        "path": "keyword"
			      },
			      "aggs": {
			        "max_keyword": {
			          "terms": {
			            "field": "keyword.word.keyword",
			            "size": 5
			          }
			        }
			      }
			    },
			    "top_tp": {
			      "terms": {
			        "field": "now_tp_cd2_nm.keyword",
			        "size": 5
			      }
			    },
			    "top_dept": {
			      "terms": {
			        "field": "now_dept_cd_nm.keyword",
			        "size": 5
			      }
			    }
			  }
			}



GET dm_index_cll_2019/_count
GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-10-01 00:00:00"
      }
    }
  }
}



GET result_rqr_top1/_search

PUT result_cll_top1
{
  "mappings": {
    "doc": {
      "properties": {
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "is_match": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "now_tp_cd2_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_r1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_r1_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tp_cd_r1_score": {
          "type": "long"
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  }
}

GET dm_index_cll_2019/_search
{
  "size": 0, 
  "aggs": {
    "tp_bundle": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size":200
      }
    }
  }
}

DELETE result_rqr_top*

GET result_rqr_top2/_search

GET result_cll_top3/_search
{
  "size": 0, 
  "aggs": {
    "is_match_bulk": {
      "terms": {
        "field": "is_match.keyword",
        "size": 200
      }
    }
  }
}

GET result_rqr_top2/_search

GET result_cll_top3/_search
{
  "size": 0,
  "aggs": {
    "match_bulk": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 200
      },
      "aggs": {
        "tf": {
          "terms": {
            "field": "is_match.keyword",
            "size": 10
          }
        },
        "codenm": {
          "terms": {
            "field": "now_tp_cd2_nm.keyword",
            "size": 10
          }
        }
      }
    }
  }
}

GET result_rqr_top3/_search
{
  "size": 0,
  "aggs": {
    "match_bulk": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 200
      },
      "aggs": {
        "tf": {
          "terms": {
            "field": "is_match.keyword",
            "size": 10
          }
        },
        "codenm": {
          "terms": {
            "field": "now_tp_cd2_nm.keyword",
            "size": 10
          }
        }
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "_source": 
  [
				  "indexno",
			      "now_tp_cd2",
				  "now_tp_cd2_nm",
			      "ttl",
			      "cnts",
			      "category_ti"
			    ]
}


GET result_rqr_top1/_search

GET dm_index_rqr/_search
{
  "_source": "now_tp_cd2*"
}

{
  "size": 0, 
  "aggs": {
    "tp_bundle": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size":200
      }
    }
  }
}
GET dm_index_rqr/_search


GET dm_index_rqr/_search
{
  "size": 500, 
  "_source": 
  [
				  "indexno",
			      "now_tp_cd2",
			      "category_ti"
			    ]
}

GET result_rqr_top2/_search
{
			  query: {
			    term: {
			      channel: {
			        value: channel_id
			      }
			    }
			  },
			  size:500000,
			  _source:
			  [
				  "indexno",
			      "now_tp_cd2",
			      "ttl",
			      "cnts",
			      "sct_kl_tp_cd2_re"
			    ]
			}
			}


DELETE result_rqr_top1

GET result_rqr_top2/_search
{
}


GET dm_uptest/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  },
  "_source": [
    "indexno",
    "now_tp_cd2",
    "ttl",
    "sct_kl_tp_cd2_re"
  ]
}

GET result_rqr_top3/_search

GET result_rqr_top3/_search
{
  "size": 0, 
  "aggs": {
    "is_match_bulk": {
      "terms": {
        "field": "tp_cd_r1.keyword",
        "size": 200
      }
    }
  }
}







GET result_rqr_top3/_search
{
  "size": 0,
  "aggs": {
    "match_bulk": {
      "terms": {
        "field": "match.keyword",
        "size": 10
      }
      
    }
  }
}


GET result_rqr_top2/_search
{
  "size": 0,
  "aggs": {
    "match_bulk": {
      "terms": {
        "field": "match.keyword",
        "size": 10
      }
    }
  }
}

GET result_rqr_top1/_search
{
  "size": 0,
  "aggs": {
    "match_bulk": {
      "terms": {
        "field": "match.keyword",
        "size": 10
      }
    }
  }
}

GET result_rqr_top1/_search

PUT result_rqr_top1
{
  "mappings": {
    "doc": {
      "properties": {
        "indexno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  }
}

GET dm_index*/_search
{
  "size": 0, 
  "query": {
    "match": {
      "channel": "rqr"
    }
  },
  "aggs": {
    "tp_cd_bundle": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 120
      }
    }
  }
}

GET dm_index*/_search
{
  "_source": "pr*"
}
GET dm_mw/_count
{
  "query": {
    "term": {
      "channel.keyword": {
        "value": "cll"
      }
    } 
  }
}

GET dm_index*/_search
{
  "query": {
    "match": {
      "channel": "cll"
    }
  },
  "size": 0, 
  "aggs": {
    "step_cd": {
      "terms": {
        "field": "prc_stt_cd.keyword",
        "size": 10
      }
    }
  }
}
GET dm_index*/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr gug cll"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-06-10 18:00:25",
              "lte": "2019-09-10 00:00:00"
            }
          }
        },
        {
          "term": {
            "day_of_week": {
              "value": "목요일"
            }
          }
        }
      ]
    }
  }
}


GET dm_index*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg cll"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-06-10 00:00:00",
              "lte": "2019-09-10 16:57:34"
            }
          }
        },
        {
          "term": {
            "day_of_week": {
              "value": "목요일"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_top": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 3
          }
        }
      }
    },
    "tp_top": {
      "terms": {
        "field": "now_tp_cd2_nm.keyword",
        "size": 3
      }
    },
    "dept_top": {
      "terms": {
        "field": "now_dept_cd_nm.keyword",
        "size": 3
      }
    }
  }
}

GET dm_index_cll_2012

GET dm_mw/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "cll"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2015-01-01 00:00:00",
              "lt": "2016-01-01 00:00:00"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "keyword"
  ],
  "size": 50
}

GET dm_inde*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-01-01 00:00:00",
              "lt": "2019-09-30 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg cll gug"
          }
        }
      ]
    }
  },
  "aggs": {
    "histo_by_channel": {
      "date_histogram": {
        "field": "display_dt",
        "format": "yyyy-MM-dd",
        "interval": "1d"
      }
    }
  }
}

GET dm_index*/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-01 00:00:00",
        "lt": "2019-09-30 00:00:00"
      }
    }
  },
  "aggs": {
    "channel_bundle": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      },
      "aggs": {
        "histo_by_channel": {
          "date_histogram": {
            "field": "display_dt",
            "format": "yyyy-MM-dd",
            "interval": "1d"
          }
        }
      }
    }
  }
}
GET dm_index*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2019-01-01 00:00:00",
              "lt": "2019-09-30 00:00:00"
            }
          }
        },
        {
          "match": {
            "channel": "rqr"
          }
        }
      ]
    }
  },
  "aggs": {
    "channel_bundle": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      },
      "aggs": {
        "histo_by_channel": {
          "date_histogram": {
            "field": "display_dt",
            "format": "yyyy-MM-dd",
            "interval": "1d"
          }
        }
      }
    },
    "max_count": {
      "max_bucket": {
        "buckets_path": "channel_bundle>histo_by_channel"
      }
    }
  }
}
GET dm_index*/_search
{
  "query": {
    "match": {
      "channel": "smg"
    }
  },
  "_source": "cnl_cd"
  , "size": 0
  , "aggs": {
    "cnlcd_bundle": {
      "terms": {
        "field": "sspc_rqr_cd.keyword",
        "size": 100
      }
    }
  }
}
GET dm_index*/_search
{
  "query": {
    "match": {
      "channel": "rqr"
    }
  },
  "_source": "cnl_cd"
  , "size": 0
  , "aggs": {
    "cnlcd_bundle": {
      "terms": {
        "field": "cnl_cd.keyword",
        "size": 100
      }
    }
  }
}

GET dm_index*/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-07-01 00:00:00",
        "lt": "2019-08-31 00:00:00"
      }
    }
  },
  "aggs": {
    "channel_bundle": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    },
    "date_histo":{
      "date_histogram": {
        "field": "display_dt",
        "interval": "1d"
      }
    }
  }
}

GET sv_keyword/_search
{
  "_source": [
    "id",
    "channel",
    "target_date_str",
    "interval",
    "gubun"
  ]
}


GET dm_index*/_search
{
  "size": 0, 
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-08-02 00:00:00",
        "lt": "2019-08-03 00:00:00"
      }
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    },
    "channel_info": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}

GET dm_mw/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "rqr_Y-R-20190315-000032"
      }
    }
  }
}


GET dm_mw/_search
{
  "size": 0, 
  "aggs": {
    "aggs_cate": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}

GET dm_uptest/_search

POST dm_uptest/_delete_by_query
{
  "query": {
    "term": {
      "channel.keyword": {
        "value": "rqr"
      }
    }
  }
}

GET dm_mw_test/_search

GET dm_mw/_search
{
  "size": 0, 
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "display_dt": {
              "gte": "2012-01-01 00:00:00",
              "lt": "2012-07-01 00:00:00"
            }
          }
        },
        {
          "term": {
            "channel.keyword": {
              "value": "cll"
            }
          }
        }
      ]
    }
  },
  "_source": [
    "indexno",
    "cnts"
  ]
}

GET dm_mw/_search
{
  "query": {
    "term": {
      "channel.keyword": {
        "value": "rqr"
      }
    }
  }, 
  "_source": 
  [
    "indexno",
    "cnts"
    ]
}

GET test_v4_dm_index_smg/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "term": {
            "indexno.keyword": {
              "value": "smg_47022"
            }
          }
        },
        {
          "term": {
            "indexno.keyword": {
              "value": "smg_47092"
            }
          }
        },
        {
          "term": {
            "indexno.keyword": {
              "value": "smg_47023"
            }
          }
        }
      ]
    }
  }
}

GET dm_index_smg/_search
{
  "size": 0,
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 210
      }
    }
  }
}

GET dm_index_smg/_search
{"size":0,"aggs":{"tp":{"terms":{"field":"tp_cd_ti.keyword","size":210}}}}

GET dm_index_gug_2019/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-11-01 00:00:00",
        "lte": "2019-12-07 00:00:00"
      }
    }
  }, 
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti.keyword",
        "size": 210
      }
    }
  }
}


PUT dm_index_*/_settings
{
  "max_result_window":500000
}

GET dm_uptest/_search
{
  "size": 0, 
  "aggs": {
    "aggs_channel": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      }
    }
  }
}

GET dm_mw_test/_s

GET _cat/indices/dm_index_gug_201*

GET dm_index*/_search
{
  "query": {
    "term": {
      "channel.keyword": {
        "value": "gug"
      }
    }
  }
}
GET dm_index_cll_2019/_count

GET dm_index*/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-08-01 00:00:00",
        "lt": "2019-08-31 00:00:00"
      }
    }
  },
  "aggs": {
    "date_aggr": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "1d"
      },
      "aggs": {
        "keywords_info": {
          "nested": {
            "path": "keyword"
          },
          "aggs": {
            "max_keyword": {
              "terms": {
                "field": "keyword.word.keyword",
                "size": 1000
              }
            }
          }
        }
      }
    }
  }
}
GET dm_index_rqr/_search

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-01-16 00:00:00",
        "lte": "2019-03-18 00:00:00"
      }
    }
  },
  "aggs": {
    "cate_age_cd": {
      "terms": {
        "field": "age_cd.keyword",
        "size": 100
      },
      "aggs": {
        "keywords_info": {
          "nested": {
            "path": "keyword"
          },
          "aggs": {
            "max_keyword": {
              "terms": {
                "field": "keyword.word.keyword",
                "size": 1000
              }
            }
          }
        }
      }
    }
  }
}

GET dm_index*/_search
{
  "size": 0, 
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 1000
          }
        }
      }
    }
  }
}

GET _cat/indices/dm_index_cll_2019

GET dm_index_cll_2019/_search
{
  "_source": [
    "indexno",
    "tp_cd_ti",
    "tp_cd_ti_nm",
    "now_tp_cd2",
    "sct_kl_tp_cd2_re",
    "category_ti",
    "keyword"
  ]
}


GET dm_uptest/_search
{
  "query": {
    "term": {
      "channel": {
        "value": "rqr"
      }
    }
  },
  "size": 500000,
  "_source": 
  [ 
    "indexno", 
    "now_tp_cd2"
    ]
}

GET dm_uptest/_search
{
  "query": {
    "term": {
      "channel": {
        "value": "rqr"
      }
    }
  }, 
  "_source": 
  [
    "tp_cd_*",
    "category_ti"
    ]
}

GET dm_uptest/_search
{
  "_source": [
    "tp_cd_ti",
    "category_ti",
    "keyword"
    ],
    "size": 200
}
GET dm_uptest/_search
{
  "size": 0, 
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 10
          }
        }
      }
    }
  }
}
GET dm_uptest/_search
{
  "size": 0, 
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "category_ti"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "category_ti.category.keyword",
            "size": 20
          }
        }
      }
    }
  }
}
GET dm_uptest/_search
{
  "size": 0, 
  "aggs": {
    "now_tp2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 20
      }
    }
  }
}
GET dm_uptest/_search
{
  "size": 0, 
  "aggs": {
    "now_tp2": {
      "terms": {
        "field": "now_tp_cd2.keyword",
        "size": 20
      }
    }
  }
}


GET dm_2_test/_search
{
  "_source": [
    "tp_cd_ti*"
    ]
}
GET dm_2_test/_mapping

GET dm_2_test/_search
{
  "_source": [
    "now_tp_cd2*",
    "category_ti",
    "tp_cd_ti"
    ]
}
GET dm_2_test/_search
{
  "query": {
    "script": {
      "script": "doc['tp_cd_ti'].value == doc['now_tp_cd2'].value ? 'TRUE' : 'FALSE'"
    }
  }
}

GET dm_2_test/_search
{
  
}


GET dm_2_test/_search
{
  "query": {
    "match_all": {}
  },
  "script_fields": {
    "total_goals": {
      "script": {
        "lang": "painless",
        "source": """
          int total = 0;
          for (int i = 0; i < doc['category_ti'].length; ++i) {
            if (doc['now_tp_cd2'] == doc['category_ti'][i])
          }
          return total;
        """
      }
    }
  }
}




GET dm_2_test/_search
{
  "_source": [
    "tp_cd_ti",
    "category_ti",
    "keyword"
    ]
}

GET dm_uptest/_search
{
  "_source": [
    "now_tp_*",
    "category_ti",
    "tp_cd_ti*"
    ]
}
GET dm_uptest/_search
{
  "_source": [
    "tp_cd_ti*",
    "category_ti",
    "keyword"
    ]
}

GET dm_mw/_search
{
  "aggs": {
    "ch_aggr": {
      "terms": {
        "field": "channel.keyword",
        "size": 100000
      }
    }
  },
  "size": 0
}
GET dm_mw/_search
{
  "query": {
    "term": {
      "indexno.keyword": {
        "value": "cll_3609239"
      }
    }
  },
  "_source": 
  [
    "ttl",
    "cnts",
    "now_tp_cd2"
    ]
}
GET dm_mw/_search
{
  "query": {
    "term": {
      "now_tp_cd2.keyword": {
        "value": "E010001"
      }
    }
  },
  "_source": 
  [
    "now_tp_cd*",
    "cnts"
    ]
  
}

GET dm_mw/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-09-30 00:00:00"
      }
    }
  },
  "size": 0,
  "aggs": {
    "aggs_channel": {
      "terms": {
        "field": "channel.keyword",
        "size": 10
      },
      "aggs": {
        "histo_aggs": {
          "date_histogram": {
            "field": "display_dt",
            "interval": "1D"
          }
        }
      }
    }
  }
}



GET dm_2_test/_search
{
  "_source": 
  [
    "category*",
    "tp*",
    "keyword"
    ]
  
}

GET dm_index_cll_2019/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "rg_dt": {
              "gte": "2019-01-01 00:00:00",
              "lt": "2019-05-01 00:00:00"
            }
          }
        }
      ]
    }
  }
}

GET dm_index_cll_2019/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "rg_dt": {
              "gte": "2019-05-01 00:00:00",
              "lt": "2019-09-01 00:00:00"
            }
          }
        }
      ]
    }
  }
}

GET dm_index_*/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "nested": {
            "path": "keyword",
            "query": {
              "bool": {
                "should": [
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "먼지"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공 사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "진동"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "악취"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "피해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "공해"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "건설현장"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사장"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": " 균열"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "공사소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": " 건설소음"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시멘트"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "물"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "통행불편"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "시설물"
                          }
                        },
                        {
                          "match": {
                            "keyword.word": "안전"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "가림막"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "bool": {
                      "must": [
                        {
                          "match": {
                            "keyword.word": "비산먼지"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-01 00:00:00",
              "lt": "2019-12-01 23:59:59"
            }
          }
        },
        {
          "bool": {
            "must_not": [
              [
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "rqr_T-R-20190902-000004"
                    }
                  }
                },
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "rqr_Y-R-20161018-000006"
                    }
                  }
                },
                {
                  "term": {
                    "indexno.keyword": {
                      "value": "aaaaaabbbbbdd"
                    }
                  }
                }
              ]
            ]
          }
        }
      ]
    }
  },
  "size": 0,
  "aggs": {
    "date_aggs": {
      "terms": {
        "field": "day_of_week.keyword",
        "size": 10
      },
      "aggs": {
        "hour_aggs": {
          "date_histogram": {
            "field": "display_dt",
            "interval": "hour"
          }
        }
      }
    }
  }
}

GET sv_user_dic/_search
{
  "query": {
    "term": {
      "word": {
        "value": "대구광역시"
      }
    }
  }
}

GET dm_index_*/_search
{
  "size": 0,
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "display_dt": {
              "gte": "2019-10-31 00:00:00",
              "lte": "2019-10-31 23:59:59"
            }
          }
        }
      ]
    }
  },
  "aggs": {
    "keywords_info": {
      "nested": {
        "path": "keyword"
      },
      "aggs": {
        "max_keyword": {
          "terms": {
            "field": "keyword.word.keyword",
            "size": 100
          }
        }
      }
    }
  }
}
GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-11-11 00:00:00"
      }
    }
  },
  "size": 0,
  "aggs": {
    "groupByHour": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "hour",
        "format": "k"
      }
    }
  }
}


GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-11-11 00:00:00"
      }
    }
  },
  "size": 0,
  "aggs": {
    "groupByHour": {
      "date_histogram": {
        "field": "display_dt",
        "interval": "hour",
        "format": "k"
      },
      "aggs": {
        "sumbk": {
          "sum_bucket": {
            "buckets_path": "groupByHour"
          }
        }
      }

    }
  }
}

"aggs": {
        "sales": {
          "sum": {
            "field": "key_as_string"
          }
        }
      }


GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-09-01 00:00:00",
        "lte": "2019-11-11 00:00:00"
      }
    }
  },
  "size": 0,
  "aggs": {
    "genres": {
      "terms": {
        "script": {
          "source": "doc['display_dt'].value",
          "lang": "painless"
        }
      }
    }
  }
}

POST _reindex
{
  "source": {
    "index": "dm_index_cll_2019",
    "query": {
      "bool": {
        "must": [
          {
            "range": {
              "rg_dt": {
                "gte": "2019-09-01 00:00:00",
                "lt": "2019-12-01 00:00:00"
              }
            }
          }
        ]
      }
    }
  },
  "dest": {
    "index": "back_dm_index_cll_2019"
  }
}


GET dm_chat/_search

GET dm_minwon/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "channel": "rqr smg"
          }
        },
        {
          "range": {
            "rqs_dt": {
              "gte": "2019-08-30 00:00:00",
              "lte": "2019-08-30 15:12:35"
            }
          }
        }
      ]
    }
  }
}

GET dm_index_cll_2013/_mapping


GET dm_index_smg/_search
{
  "query": {
    "match": {
      "indexno": "smg_45241"
    }
  }
}
GET dm_index_cll_2018/_search
{
  "size": 500,
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2018-01-01 00:00:00",
        "lte": "2018-07-01 00:00:00"
      }
    }
  }
}

GET dm_index_cll_2019/_search
{
  "size": 0
  , "aggs": {
    "ldin_cours_inln": {
      "terms": {
        "field": "ldin_cours_inln.keyword",
        "size": 10
      }
    }
  }
}

GET dm_index_rqr/_search
{
  "size": 0, 
  "aggs": {
    "cnlcd": {
      "terms": {
        "field": "cnl_cd.keyword",
        "size": 100
      }
    }
  }
}


GET work_dm_index_gug_2019/_search


GET dm_index_cll_2019/_search
{
  "size": 2400, 
  "query": {
    "match": {
      "tp_cd_ti_nm": "상수도요금"
    }
  },
  "_source":
  [
  "cnts",
  "rg_dt",
  "sct_kl*",
  "keyword",
  "now_tp_cd2",
  "tp_cd_ti"
    ]
  
}


GET dm_index_cll_2019/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-01-01 00:00:00",
        "lte": "2019-01-30 15:12:35"
      }
    }
  },
  "size": 200
}
GET _cat/indices/dm_index_smg


GET dm_index_rqr/_search
{
  "_source": [
    "indexno",
    "display_dt",
    "call_sub_channel",
    "sub_channel"
  ],
  "aggs": {
    "call_sub": {
      "terms": {
        "field": "call_sub_channel.keyword",
        "size": 10
      }
    }
  }
}



PUT test_v4_dm_index_smg/_mapping/doc
{
  "properties": {
    "sub_channel": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword",
          "ignore_above": 64
        }
      }
    }
  }
}

PUT dm_mw/_mapping/doc
{
  "properties": {
    "category_ti": {
      "type": "nested",
      "properties": {
        "category": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "similarity": {
          "type": "double"
        }
      }
    }
  }
}

GET dm_2_test/_search
{
  "_source": "tp*"
}




POST _reindex
{
  "source": {
    "index": "dm_mw",
    "query": {
    "bool": {
      "should": [
        {
          "term": {
            "indexno.keyword": {
              "value": "rqr_Y-R-20190218-000079"
            }
          }
        }
      ]
    }
  }
  },
  "dest": {
    "index": "dm_2_test"
  }
}


GET test_v3_dm_index_rqr/_count

GET test_v3_dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2019-09-01 00:00:00",
        "lt": "2019-11-01 00:00:00"
      }
    }
  }
}

GET ref_dg_people/_search

{
  "size": 1,
  "sort": [
    {
      "dg_dt.keyword": {
        "order": "desc"
      }
    }
  ],
  "_source": "dg_dt"
}

GET ref_dg_people/_search
{
  "size": 100,
  "query": {
    "term": {
      "dg_dt.keyword": {
        "value": "201910"
      }
    }
  },
  "_source": [
    "@timestamp", 
    "dg_adr",
    "dg_people"
  ]
}


GET dm_index_rqr/_search
{"size":0,"query":{"bool":{"must":[{"range":{"display_dt":{"gte":"2018-01-01 00:00:00","lte":"2019-11-01 00:00:00"}}}]}},"aggs":{"zipg":{"terms":{"field":"zip_adr_g.keyword","size":100},"aggs":{"avg_uv":{"avg":{"field":"lifeindex_uv"}},"avg_discomport":{"avg":{"field":"lifeindex_discomport"}},"avg_freezing":{"avg":{"field":"lifeindex_freezing"}},"avg_airpollution":{"avg":{"field":"lifeindex_airpollution"}}}}}}




GET test_v4_dm_index_rqr/_search
{
  "query": {
    "range": {
      "rg_dt": {
        "gte": "2018-01-01 00:00:00",
        "lt": "2019-01-01 00:00:00"
      }
    }
  }
}

GET dm_index_smg/_search
{
  "sort": [
    {
      "rqs_dt": {
        "order": "desc"
      }
    }
  ]
}

GET work_dm_index_gug_2019/_search
{
  "sort": [
    {
      "display_dt": {
        "order": "desc"
      }
    }
  ]
}

GET _cat/indices/dm_index*

GET dm_index_rqr/_mapping


GET dm_index_rqr/_search
{
  "query": {
    "range": {
      "display_dt": {
        "gte": "2019-11-11 00:00:00",
        "lte": "2019-11-15 00:00:00"
      }
    }
  }, 
  "_source": "keyword"
}

GET dm_index_gug_2019/_search
{
  "size": 0, 
  "aggs": {
    "tp": {
      "terms": {
        "field": "tp_cd_ti_nm.keyword",
        "size": 210
      }
    }
  }
}
GET dm_index_gug_2019/_search
{
  "sort": [
    {
      "collection_dt": {
        "order": "desc"
      }
    }
  ],
  "_source": 
  [
    "indexno", 
    "collection_dt", 
    "rg_dt"
    , "display_dt"
    ]
  
}
GET dm_index_smg/_search

GET dm_index_gug_*
GET dm_index_smg/_mapping
GET dm_index_gug_2019/_search
{
  "_source": 
  [
  "aggr*"  
    ]
 }
 
GET dm_index_gug_2018/_count


GET test_dm_index_cll/_search


GET dm_index_gug_2019/_mapping



PUT prp_index_main
{
  "mappings": {
    "doc": {
      "properties": {
        "rqs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "acpt_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "ddl_bs_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "ddl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "wdl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cpl_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "rg_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "cng_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "collection_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "trans_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "pr_end_dt": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "prp_cntst_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "cnl_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ovv": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "as_is": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "to_be": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "eft": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "prp_smr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "rqr_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cvl_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cvl_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "zip": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "zip_adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "rd_nm_adr": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 128
            }
          }
        },
        "adr_dtl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sex_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 16
            }
          }
        },
        "age_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 16
            }
          }
        },
        "dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 16
            }
          }
        },
        "ttl": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "prc_stt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ps_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "wdl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "wdl_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "ddl_cnt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "crg_org_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "crg_team": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "crg": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cvy_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "adt_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "dep_rvw_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 512
            }
          }
        },
        "rtn_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "app_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "adt_asn_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ref_tp_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "svy_rst_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "rsln_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "svy_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "day_of_week": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 8191
            }
          }
        },
        "sct_kl_tp_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sspc_rqr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "rcmd_cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ocr_ar_cd1": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ocr_ar_cd2": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "bd_wr_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "lf_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "aft_exct_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "aft_exct_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "wtm_cpl_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sbcbr_cnt": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "mlt_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "acpt_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sct_kl_tp_cd3": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "pr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "toc_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cpy_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "smg_snd_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "pcd_gubun": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "talk_type_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "talk_result_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ho_cnvrs_tno": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ldin_cours_inln": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "del_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "lfcns_mtd_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "trf_rqr_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cvl_rqr_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cont_car_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cont_cnts": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "cont_ar": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "pr_end_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "pr_end_rsn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "smg_dcs_yn": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "stf_idx": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "kind_cd": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "prcr_id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "prc_status_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "prcr_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "prc_dep_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "prc_dvs_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "rcmd_cpy_nm": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sns_tp": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "id": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "message": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "sct_kl_tp_cd1_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd2_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "sct_kl_tp_cd3_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "crg_org_cd_re": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "zip_adr_s": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "zip_adr_g": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "zip_adr_d": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 64
            }
          }
        },
        "dud_position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "dud_position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "position_x": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "position_y": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ocr_ar_cd1_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "ocr_ar_cd2_trans": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "acpt_no": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "imme_state": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "act_plan": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "act_dept": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "act_team": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "act_content": {
          "type": "text",
          "fields": {
            "keyword": {
              "type": "keyword",
              "ignore_above": 32
            }
          }
        },
        "keyword": {
          "type": "nested",
          "properties": {
            "similarity": {
              "type": "double"
            },
            "word": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "category_ti": {
          "type": "nested",
          "properties": {
            "category": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "similarity": {
              "type": "double"
            }
          }
        }
      }
    }
  }
}